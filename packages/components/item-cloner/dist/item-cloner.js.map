{"version":3,"file":null,"sources":["../../../utilities/breakpoint/src/breakpoint.ts","../src/item-cloner.ts"],"sourcesContent":["/**\n * Breakpoint utility for sharing breakpoints between CSS and JS.\n */\n\n/**\n * Converts dash-case to camelCase.\n * @type {Function}\n */\nconst camelCase: Function = ( input: string ): string => {\n    return input.toLowerCase().replace( /-(.)/g, function( match: string, group: string ): string {\n        return group.toUpperCase();\n    } );\n};\n\n/**\n * Returns object containign available breakpoints.\n * @return {Object} Object containing avaliable breakpoints in shape { breakpointName: pixelsNumber }\n */\nconst getAvaliableBreakpoints: Function = (): Object => JSON.parse( window.getComputedStyle( body, ':before' )\n    .getPropertyValue( 'content' ).slice( 1, -1 ).replace( /\\\\\"/g, '\"' ) );\n\n/**\n * Returs current breakpoint set by CSS.\n * @return {number} Current breakpoint in number of pixels.\n */\nconst getCurrentBreakpoint: Function = (): number => +window.getComputedStyle( body, ':after' )\n    .getPropertyValue( 'content' ).replace( /\"/g, '' );\n\nconst body: HTMLElement = document.querySelector( 'body' );\n/**\n * Module cache to export.\n * @type {Object}\n */\nconst breakpoint: any = {\n    current: getCurrentBreakpoint(),\n};\n\n/**\n * Available breakpoints cache.\n */\nconst breakpoints: Object = getAvaliableBreakpoints();\n// Extend breakpoint module with available breakpoint keys converted to camelCase.\nObject.keys( breakpoints ).forEach( ( breakpointName: string ): void => {\n    breakpoint[ camelCase( breakpointName ) ] = breakpoints[ breakpointName ];\n});\n\n// Let's check if we can register passive resize event for better performance.\nlet passiveOption: any = undefined;\ntry {\n    const opts: any = Object.defineProperty( {}, 'passive', {\n        get: function(): void {\n            passiveOption = { passive: true };\n        },\n    } );\n    window.addEventListener( 'test', null, opts );\n} catch (e) {}\n\n// Update current breakpoint on every resize.\nwindow.addEventListener( 'resize', () => {\n    breakpoint.current = getCurrentBreakpoint();\n}, passiveOption );\n\nexport default breakpoint;\n","/* tslint:disable:no-unused-new object-literal-key-quotes max-classes-per-file */\nimport $ from 'jquery';\n\nimport breakpoint from '../../../utilities/breakpoint/src/breakpoint';\n\ninterface IItemClonerTouchSettings {\n    /**\n     * Turns on/off hover for touch devices\n     * @default {true}\n     * @type {Boolean}\n     */\n    enabled?: boolean;\n    /**\n     * If hover is disabled, show hidden items from the beginning\n     * @default false\n     * @type {Boolean}\n     */\n    displayAsStatic?: boolean;\n    /**\n     * Define class of the $origin that is shown from the beginning\n     * Works only if {displayAsStatic} is set to true\n     * @default cs-grid-product--static\n     * @type {String}\n     */\n    staticClass?: string;\n    /**\n     * Defined if animations for touch devices should be available\n     * @default false\n     * @type {Boolean}\n     */\n    disableAnimations?: boolean;\n}\n\ninterface IItemClonerSettings {\n    /**\n     * Define class of origin element while in hover state\n     * @type {String}\n     */\n    originHoverClass?: string;\n    /**\n     * Define class of the clone-item.\n     * @default cs-item-cloner\n     * @type {String}\n     */\n    clonerClass?: string;\n    /**\n     * Define class of the clone-item in hover state.\n     * @default cs-item-cloner--visible\n     * @type {String}\n     */\n    clonerHoverClass?: string;\n    /**\n     * Define class of the clone-item's content in hover state.\n     * @type {String}\n     */\n    cloneContentHoverClass?: string;\n    /**\n     * Define breakpoint above which script should work\n     * @type {String}\n     */\n    breakpoint?: string;\n    /**\n     * Defined class for $origin if window width is below given breakpoint\n     * @type {String}\n     */\n    belowBreakpointClass?: string;\n    /**\n     * Define z-index of clone\n     * @type {Number}\n     */\n    cloneZindex?: number;\n    /**\n     * Defines component behaviour for touch devices\n     * @type {Object}\n     */\n\n     /**\n     * Define delay in miliseconds of hover class added\n     * @type {Number}\n     * @default {10}\n     */\n    delay?: number;\n    /**\n     * Defines component behaviour for touch devices\n     * @type {Object}\n     */\n    touch?: IItemClonerTouchSettings;\n    /**\n     * On before show callback\n     * @default 800\n     * @type {any}\n     */\n    onBeforeShow?: any;\n    /**\n     * On shown callback\n     * @type {any}\n     */\n    onShown?: any;\n    /**\n     * On before hide callback\n     * @type {any}\n     */\n    onBeforeHide?: any;\n    /**\n     * On hidden callback\n     * @type {any}\n     */\n    onHidden?: any;\n}\n\n/**\n * ItemCloner clones given item on mouseover and places is on top of hovered element in the same place\n * Clone resides on the bottom of the DOM tree and is positioned absolutely with height z-index ( defined in options )\n */\nexport default class ItemCloner {\n    private settings?: IItemClonerSettings;\n    private $origins: JQuery;\n    private _animationClassTimeout: any;\n    private _isTouch: boolean;\n    public isActive: boolean;\n    public $wrapper?: JQuery;\n    public $origin?: JQuery;\n    public $clone?: any;\n\n    /**\n     * Creates and initiates new ItemCloner component with given settings.\n     * @param  {$origins} jquery object that should be cloned.\n     * @param  {IItemClonerSettings} settings Optional component settings.\n     */\n    public constructor( $origins: JQuery, settings?: IItemClonerSettings ) {\n        if ( !$origins.length ) {\n            return;\n        }\n\n        this.settings = $.extend( true, {},\n            {\n                clonerClass: 'cs-item-cloner',\n                clonerHoverClass: 'cs-item-cloner--visible',\n                cloneZindex: 200,\n                breakpoint: breakpoint.laptop,\n                delay: 10,\n                touch: {\n                    enabled: true,\n                    displayAsStatic: false,\n                    staticClass: 'cs-grid-product--static',\n                    disableAnimations: false,\n                }\n            },\n            settings,\n        );\n\n        this._isTouch = ( 'ontouchstart' in document.documentElement );\n        this.$origins = $origins;\n        this.isActive = false;\n        this.$origin = undefined;\n        this.$wrapper = undefined;\n        this.$clone = undefined;\n        this._animationClassTimeout;\n        this._createCloneWrapper();\n        this._setEvents();\n\n        if ( this.settings.belowBreakpointClass && this.settings.belowBreakpointClass !== '' ) {\n            this._setBelowBreakpointClass();\n        }\n\n        if ( this._isTouch && !this.settings.touch.enabled && this.settings.touch.displayAsStatic ) {\n            this._setAsStatic();\n        }\n\n        if ( this._isTouch && this.settings.touch.disableAnimations ) {\n            this.$origins.addClass( 'no-transition' );\n        }\n    }\n\n    /**\n     * Destroys clone, removes all classes added during cloning, reverts to original state\n     */\n    public destroy(): void {\n        if ( this.isActive && this.$wrapper.children().length ) {\n            if ( this.settings.onBeforeHide && typeof( this.settings.onBeforeHide ) === 'function' ) {\n                this.settings.onBeforeHide();\n            }\n\n            this.$wrapper.html( '' ).removeClass( this.settings.clonerHoverClass ).removeAttr( 'style' );\n            this.$origins.filter( `.${ this.settings.originHoverClass }` ).removeClass( this.settings.originHoverClass );\n            if ( this.settings.delay > 0 ) {\n                clearTimeout( this._animationClassTimeout );\n            }\n            this.isActive = false;\n            this.$origin = undefined;\n            this.$clone = undefined;\n\n            if ( this.settings.onHidden && typeof( this.settings.onHidden ) === 'function' ) {\n                this.settings.onHidden();\n            }\n        }\n    }\n\n    /**\n     * Creates wrapper and appends it to the document (before end).\n     * Then assigns newly created element to this.$wrapper\n     */\n    protected _createCloneWrapper(): void {\n        if ( !$( `.${ this.settings.clonerClass }` ).length ) {\n            $( 'body' ).append( `<div class=\"${ this.settings.clonerClass }\"></div>` );\n        }\n\n        this.$wrapper = $( `.${ this.settings.clonerClass }` );\n    }\n\n    /**\n     * After clone has been created, this method sets it to active\n     * @param  {$origin} jquery object that will be cloned.\n     */\n    protected _setCloneActive(): void {\n        this.$clone.addClass( `${ this.settings.cloneContentHoverClass }` );\n        this.isActive = true;\n\n        if ( this.settings.onShown && typeof( this.settings.onShown ) === 'function' ) {\n            this.settings.onShown( this );\n        }\n    }\n\n    /**\n     * Actually clones given element and replaces $wrapper's  HTML with it\n     * @param  {$origin} jquery object that will be cloned.\n     */\n    protected _clone( $origin: JQuery ): void {\n        this.$origin = $origin;\n\n        // Run onBeforeShow callback if defined\n        if ( this.settings.onBeforeShow && typeof( this.settings.onBeforeShow ) === 'function' ) {\n            this.settings.onBeforeShow();\n        }\n\n        // Get data before any action\n        const cords: any = $origin.offset();\n        const realWidth: number = $origin[ 0 ].getBoundingClientRect().width;\n\n        this.$wrapper.css( {\n            top: cords.top,\n            left: cords.left,\n            zIndex: this.settings.cloneZindex,\n            width: realWidth,\n        } ).addClass( this.settings.clonerHoverClass );\n\n        // Clone original element\n        this.$clone = $origin.clone( true );\n\n        // Add class to original element\n        $origin.addClass( this.settings.originHoverClass );\n\n        // physically replace wrapper's content with $clone\n        this.$wrapper.html( this.$clone );\n\n        // Add class to clone after it has been placed in $wrapper\n        this.$clone.addClass( `${ this.settings.clonerClass }__clone` );\n\n        /* Add another class indicating that cloned element should be in hover state\n         * Timeout helps with CSS animations witch didn't run without it.\n        */\n        if ( this.settings.delay > 0 ) {\n            this._animationClassTimeout = setTimeout( (): void => {\n                this._setCloneActive();\n            }, this.settings.delay );\n        } else {\n            this._setCloneActive();\n        }\n    }\n\n    /**\n     * Setups events\n     */\n    protected _setEvents(): void {\n        let _this: any = this;\n        let throttler: any;\n        const onEvents: string = this._isTouch ? 'touchstart' : 'mouseenter';\n        const offEvents: string = this._isTouch ? 'touchend touchcancel' : 'mouseleave';\n\n        this.$origins.stop().on( onEvents, function( event: Event ): void {\n            // Clone only if needed\n            if ( ( event.type === 'touchstart' && _this.settings.touch.enabled ) || event.type === 'mouseenter' ) {\n                if ( !$( this ).hasClass( `${ _this.settings.clonerClass }__clone` ) && $( window ).width() >= _this.settings.breakpoint ) {\n                    // Emergency destroy\n                    if ( _this.isActive ) {\n                        _this.destroy();\n                    }\n                    _this._clone( $( this ) );\n                }\n            }\n        } );\n\n        // Run destroy menthod when mouse leaves the clone\n        this.$wrapper.stop().on( offEvents, function(): void {\n            _this.destroy();\n        } );\n\n        // Run destroy menthod when called from outside\n        $( document ).on( 'destroyItemClones', function(): void {\n            _this.destroy();\n        } );\n\n        // On touches destroy when touchstart anywhere in body but not on $wrapper\n        if ( this.settings.touch.enabled ) {\n            $( document ).on( 'touchstart', function( event: Event ): void {\n                if ( !$( event.target ).hasClass( `${ _this.settings.clonerClass }` ) && !$( event.target ).parents( `.${ _this.settings.clonerClass }` ).length ) {\n                    _this.destroy();\n                }\n            } );\n        }\n\n        // Resize event to set class for $origins if needed\n        if ( this.settings.belowBreakpointClass && this.settings.belowBreakpointClass !== '' ) {\n            $( window ).on( 'resize', function(): void {\n                clearTimeout( throttler );\n                throttler = setTimeout( (): void => {\n                    _this._setBelowBreakpointClass();\n                }, 250 );\n            } );\n        }\n    }\n\n    /**\n     * On touch devices, set this.settings.touch.staticClass *\n     * Only if hover is disabled and option to do so is set to true\n     */\n    protected _setAsStatic(): void {\n        if ( this.settings.touch.staticClass && this.settings.touch.staticClass !== '' ) {\n            this.$origins.addClass( this.settings.touch.staticClass );\n        }\n    }\n\n    /**\n     * If {this.settings.belowBreakpointClass} is set, add this class\n     * Only if window width value is lower than defined breakpoint\n     */\n    protected _setBelowBreakpointClass(): void {\n        if ( $( window ).width() < this.settings.breakpoint ) {\n            this.destroy();\n            this.$origins.addClass( this.settings.belowBreakpointClass );\n        } else {\n            this.$origins.removeClass( this.settings.belowBreakpointClass );\n        }\n    }\n}\n"],"names":[],"mappings":"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"}