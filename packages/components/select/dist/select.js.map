{"version":3,"file":null,"sources":["../src/select.ts"],"sourcesContent":["import $ from 'jquery';\n\nimport isMobile from 'isMobile';\n\n/**\n * component options interface.\n */\ninterface HtmlSelectOptions {\n    /**\n     * Namespace of the component. Default is 'cs-'\n     * @type {string}\n     */\n    namespace?: string;\n}\n\n/**\n * select's plugin options interface.\n */\ninterface SelectpickerOptions {\n    /**\n     * Is this mobile device currently browsing. Default is false\n     * @type {boolean}\n     */\n    mobile?: boolean;\n    /**\n     * Class of the select element\n     * @type {string}\n     */\n    realSelectClass?: string;\n    /**\n     * Class of the fake select element that  is created dynamically and contains button + HTML options list\n     * @type {string}\n     */\n    selectClass?: string;\n    /**\n     * Classes of the fake select childrens:\n     * * menuClass - class of the menu wrapper (container of fake options) @type {string}\n     * * menuListClass - class of the inner menu UL (fake options) @type {string}\n     * * menuListitemClass - class of the single list element (fake option) @type {string}\n     * * linkClass - class of the link inside option (representing option) @type {string}\n     */\n    menuClass?: string;\n    menuListClass?: string;\n    menuListitemClass?: string;\n    linkClass?: string;\n    /**\n     * Class of the trigger element that opens fake menu (button)\n     * @type {string}\n     */\n    styleBase?: string;\n    /**\n     * URL to the icon of the tick representing chosen options of multiselect dropdown\n     * @type {string}\n     */\n    tickIcon?: string;\n    /**\n     * Text that is displayed for multiselect when no options selected and no placeholder is set\n     * @type {string}\n     */\n    noneSelectedText?: string;\n    /**\n     * Object of template where you can customize some of HTML of the fake select\n     * @type {object}\n     */\n    template?: object;\n        /**\n         * Templatre of the caret - URL to the icon of the trigger element that opens fake menu (arrow on the right)\n         * @type {string}\n         */\n        caret?: string;\n}\n\nexport default class HtmlSelect {\n    protected _$element: JQuery;\n    protected _$select: JQuery;\n\n    /**\n     * Creates new htmlSelect component with optional settings.\n     * @param  {htmlSelectOptions} options  Optional settings object.\n     */\n    public constructor( $element?: JQuery, options?: HtmlSelectOptions, selectpickerOptions?: SelectpickerOptions ) {\n        this._options = $.extend( this._options, options );\n        this._options.namespace = this._options.namespace || 'cs-';\n\n        this._$select = $element || $( `.${this._options.namespace}select` );\n\n        const _this: any = this;\n\n        this._selectpickerOptions = $.extend( {\n            mobile: isMobile.any,\n            realSelectClass: `${_this._options.namespace}select`,\n            selectClass: `${_this._options.namespace}html-select`,\n            menuClass: `${_this._options.namespace}html-select__menu`,\n            menuListClass: `${_this._options.namespace}html-select__menu-list`,\n            menuListitemClass: `${_this._options.namespace}html-select__menu-item`,\n            linkClass: `${_this._options.namespace}html-select__menu-link`,\n            searchInputClass: `${_this._options.namespace}input__input ${_this._options.namespace}html-select__search-input`,\n            styleBase: '',\n            iconBase: '',\n            tickIcon: '',\n            noneSelectedText: 'Nothing selected',\n            noneResultsText: 'No results for: {0}',\n            template: {\n                caret: _this._options.caretMarkup || `<span class=\"${_this._options.namespace}html-select__trigger-caret\"><span class=\"${_this._options.namespace}html-select__trigger-caret-arrow\"></span></span>`,\n            },\n        }, selectpickerOptions );\n\n        this._onRendered();\n        this._render();\n        this._setCallbacks();\n    }\n\n    /**\n     * Dynamically set padding for a html-select element\n     * @param  {$select} jQuery select element.\n     */\n    public _setPadding( $select: JQuery ): void {\n        const $contentAfter: any = $select.siblings().find( `.${this._options.namespace}html-select__trigger-subtext` );\n        const $caret: any = $select.siblings().find( `.${this._options.namespace}html-select__trigger-caret` );\n        const buttonsLeftPadding: number = parseInt( $select.siblings().find( `.${this._options.namespace}html-select__trigger` ).css( 'padding-left' ), 10 );\n\n        if ( $contentAfter.length ) {\n            const padding: any = $caret.outerWidth() + $contentAfter.outerWidth() + ( 2 * buttonsLeftPadding );\n\n            $select.siblings().find( `.${this._options.namespace}html-select__menu-item-text` ).css( 'padding-right', padding );\n            $select.siblings().find( `.${this._options.namespace}html-select__trigger` ).css( 'padding-right', padding );\n        }\n    }\n\n    /**\n     * runs _setHtmlSelectPadding method after $select is rendered\n     */\n    protected _onRendered(): void {\n        const _this: any = this;\n\n        this._$select.on( 'rendered.bs.select', function(): void {\n            _this._setPadding( $( this ) );\n        } );\n    }\n\n    /**\n     * Initialize selectpicker plugin for all ${this._options.namespace}select elements\n     */\n    protected _render(): void {\n        const _this: any = this;\n\n        this._$select.each( function(): void {\n            const limit: number = $( this ).attr( 'data-options-limit' ) ? parseInt( $( this ).data( 'options-limit' ), 10 ) : 8;\n            let triggerStyle: string = `${_this._options.namespace}html-select__trigger`;\n\n            if ( $( this ).hasClass( `${_this._options.namespace}html-select--big` ) ) {\n                triggerStyle = `${_this._options.namespace}html-select__trigger ${_this._options.namespace}html-select__trigger--big`;\n            } else if ( $( this ).hasClass( `${_this._options.namespace}html-select--light` ) ) {\n                triggerStyle = `${_this._options.namespace}html-select__trigger ${_this._options.namespace}html-select__trigger--light`;\n            } else if ( $( this ).hasClass( `${_this._options.namespace}html-select--light-reverse` ) ) {\n                triggerStyle = `${_this._options.namespace}html-select__trigger ${_this._options.namespace}html-select__trigger--light-reverse`;\n            }\n\n            _this._selectpickerOptions.size = limit;\n            _this._selectpickerOptions.styleBase = triggerStyle;\n\n            $( this ).selectpicker( _this._selectpickerOptions );\n        } );\n    }\n\n    /**\n     * Set callbacks for ${this._options.namespace}select elements\n     */\n    protected _setCallbacks(): void {\n        const _this: any = this;\n\n        $( `.${_this._options.namespace}html-select` ).on( 'show.bs.select', function( event: Event ): void {\n            setTimeout( (): void =>\n                $( event.target ).parent().addClass( `${_this._options.namespace}html-select--animate` ), 30\n            );\n        } );\n\n        $( `.${_this._options.namespace}html-select` ).on( 'hide.bs.select', function( event: Event ): void {\n            $( event.target ).parent().removeClass( `.${_this._options.namespace}html-select--animate` );\n        } );\n    }\n}\n"],"names":[],"mappings":"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"}