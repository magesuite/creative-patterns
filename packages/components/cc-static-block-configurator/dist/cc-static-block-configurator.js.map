{"version":3,"file":null,"sources":["../src/cc-static-block-configurator.ts"],"sourcesContent":["\r\n/**\r\n * Single component information object.\r\n */\r\ninterface IComponentInformation {\r\n    type: string;\r\n    /**\r\n     * Component ID\r\n     * @type {string}\r\n     */\r\n    id: string;\r\n    /**\r\n     * component data values from inputs\r\n     * @type {string}\r\n     */\r\n    data: Object;\r\n}\r\n\r\n/**\r\n * Components information object that should be returned by AJAX call to API.\r\n */\r\ninterface IComponentsInformation {\r\n    components: IComponentInformation[];\r\n}\r\n\r\n/**\r\n * Static block configurator component.\r\n * This component is responsible for displaying static block's configuration form\r\n * @type {vuejs.ComponentOption} Vue component object.\r\n */\r\nconst ccStaticBlockConfigurator: vuejs.ComponentOption = {\r\n    template: `<form class=\"cc-static-block-configurator {{ classes }} | {{ mix }}\" {{ attributes }} @submit.prevent=\"onSave\">\r\n        <div class=\"cs-input cs-input--type-inline\">\r\n            <label for=\"cfg-static-block\" class=\"cs-input__label\">Static block:</label>\r\n            <select name=\"select\" class=\"cs-input__select\" id=\"cfg-static-block\" v-model=\"configuration.staticBlock\" @change=\"onChange\">\r\n                <option value=\"1\" selected>Foo</option>\r\n                <option value=\"2\">Bar</option>\r\n            </select>\r\n        </div>\r\n        <button type=\"submit\">Save</button>\r\n    </form>`,\r\n    props: {\r\n        /**\r\n         * Class property support to enable BEM mixes.\r\n         */\r\n        class: {\r\n            type: [ String, Object, Array ],\r\n            default: '',\r\n        },\r\n        /**\r\n         * Property containing callback triggered when user saves component.\r\n         */\r\n        save: {\r\n            type: Function,\r\n        },\r\n        /**\r\n         * Property containing callback triggered when configuration is changed.\r\n         */\r\n        change: {\r\n            type: Function,\r\n        },\r\n        configuration: {\r\n            type: Object,\r\n            default: {\r\n                staticBlock: '',\r\n            },\r\n        },\r\n    },\r\n    methods: {\r\n        onChange( event: Event ): void {\r\n            const data: any = JSON.parse( JSON.stringify( this.configuration ) );\r\n\r\n            this.$dispatch( 'cc-static-block-configurator__change', data );\r\n\r\n            if ( typeof this.change === 'function' ) {\r\n                this.change( data );\r\n            }\r\n        },\r\n        onSave( event: Event ): void {\r\n            const data: any = JSON.parse( JSON.stringify( this.configuration ) );\r\n\r\n            this.$dispatch( 'cc-static-block-configurator__save', data );\r\n\r\n            if ( typeof this.save === 'function' ) {\r\n                this.save( data );\r\n            }\r\n        },\r\n    },\r\n};\r\n\r\nexport default ccStaticBlockConfigurator;\r\n"],"names":[],"mappings":";;;;;;AAyBA;;;;;AAKA,IAAM,yBAAyB,GAA0B;IACrD,QAAQ,EAAE,8mBASF;IACR,KAAK,EAAE;;;;QAIH,KAAK,EAAE;YACH,IAAI,EAAE,CAAE,MAAM,EAAE,MAAM,EAAE,KAAK,CAAE;YAC/B,OAAO,EAAE,EAAE;SACd;;;;QAID,IAAI,EAAE;YACF,IAAI,EAAE,QAAQ;SACjB;;;;QAID,MAAM,EAAE;YACJ,IAAI,EAAE,QAAQ;SACjB;QACD,aAAa,EAAE;YACX,IAAI,EAAE,MAAM;YACZ,OAAO,EAAE;gBACL,WAAW,EAAE,EAAE;aAClB;SACJ;KACJ;IACD,OAAO,EAAE;QACL,QAAQ,YAAE,KAAY;YAClB,IAAM,IAAI,GAAQ,IAAI,CAAC,KAAK,CAAE,IAAI,CAAC,SAAS,CAAE,IAAI,CAAC,aAAa,CAAE,CAAE,CAAC;YAErE,IAAI,CAAC,SAAS,CAAE,sCAAsC,EAAE,IAAI,CAAE,CAAC;YAE/D,IAAK,OAAO,IAAI,CAAC,MAAM,KAAK,UAAW,EAAE;gBACrC,IAAI,CAAC,MAAM,CAAE,IAAI,CAAE,CAAC;aACvB;SACJ;QACD,MAAM,YAAE,KAAY;YAChB,IAAM,IAAI,GAAQ,IAAI,CAAC,KAAK,CAAE,IAAI,CAAC,SAAS,CAAE,IAAI,CAAC,aAAa,CAAE,CAAE,CAAC;YAErE,IAAI,CAAC,SAAS,CAAE,oCAAoC,EAAE,IAAI,CAAE,CAAC;YAE7D,IAAK,OAAO,IAAI,CAAC,IAAI,KAAK,UAAW,EAAE;gBACnC,IAAI,CAAC,IAAI,CAAE,IAAI,CAAE,CAAC;aACrB;SACJ;KACJ;CACJ,CAAC,AAEF;;;;"}