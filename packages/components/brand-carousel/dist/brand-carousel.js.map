{"version":3,"file":null,"sources":["../../teaser/src/teaser.ts","../src/brand-carousel.ts"],"sourcesContent":["import $ from 'jquery';\nimport Swiper from 'Swiper';\n\n/*\n* Product teaser\n*/\n/**\n * Creates new teaser object on given element with provided settings.\n * @param  {jQuery} $element jQuery element that contains complete outline for teaser.\n * Provided element should contain \".{teaserName}__wrapper\" element.\n * @param  {Object} settings Custom settings that will be passed along to Swiper.\n * @return {Object} New teaser object instance.\n */\nconst csTeaser: any = function( $element: any, settings: any ): void {\n    /**\n     * Required variables initialization.\n     */\n    settings = settings || {};\n    const teaser: any = this;\n    const teaserName: string = settings.teaserName ? settings.teaserName : 'cs-teaser';\n    const teaserClass: string = `.${teaserName}`;\n    const $teaserWrapper: any = $element.find( `${teaserClass}__wrapper` );\n    const paginationName: string = settings.paginationName ? settings.paginationName : `${teaserName}__pagination`;\n    const fractionPaginationSeparator: string = settings.fractionPaginationSeparator ? settings.fractionPaginationSeparator : '/';\n    /**\n     * Holds current Swiper instance.\n     */\n    let swiperInstance: any;\n\n    /**\n     * Tells if swiper was destroyed.\n     */\n    let destroyed: any;\n\n    /**\n     * Attaches component to HTML element.\n     */\n    $element.data( teaserName, this );\n\n    /**\n     * Tells if teaser should have dynamic or fixed number of visible slides.\n     * By default teaser will adjust number of visible slides according to it's\n     * parrent width. You can change this behaviour by specyfying custom settings.slidesPerView\n     * value, e.g. when settings.slidesPerView = 1 teaser will always show only one slide.\n     * @type {Boolean}\n     */\n    let dynamicNumOfSlides: any = !settings.slidesPerView || settings.slidesPerView === 'auto';\n\n    /**\n     * Contains current settings of slider.\n     */\n    let currentSettings: any;\n    /**\n     * Default settings for Swiper.\n     * @type {Object}\n     */\n    const defaultSettings: any = {\n        slideClass: `${teaserName}__slide`,\n        slideActiveClass: `${teaserName}__slide--active`,\n        slideVisibleClass: `${teaserName}__slide--visible`,\n        slideDuplicateClass: `${teaserName}__slide--clone`,\n        slideNextClass: `${teaserName}__slide--next`,\n        slidePrevClass: `${teaserName}__slide--prev`,\n        wrapperClass: `${teaserName}__slides`,\n        nextButton: $element.find( `${teaserClass}__nav--next` )[ 0 ],\n        prevButton: $element.find( `${teaserClass}__nav--prev` )[ 0 ],\n        buttonDisabledClass: `${teaserName}__nav--disabled`,\n        pagination: $element.find( `.${paginationName}` ),\n        /**\n         * Maximum number of groups that will be still visible as dots.\n         * If you want pagination to always be dots you can either don't add\n         * .${teaserName}__numbers element in HTML or set this to something big.\n         * @type {number}\n         */\n        paginationBreakpoint: 5,\n        onlyBulletPagination: false,\n        bulletClass: `${paginationName}-item`,\n        bulletActiveClass: `${paginationName}-item--active`,\n        paginationCurrentClass: `${teaserName}__number--current`,\n        paginationTotalClass: `${teaserName}__number--total`,\n        paginationClickable: true,\n        spaceBetween: 20,   // Gap between slides.\n        slideMinWidth: 200,  // Minimum width of a slider.\n        calculateSlides: true,\n        maxSlidesPerView: null,\n        watchSlidesVisibility: true,\n        paginationBulletRender( swiper: any, index: number, className: string ): Object {\n            return `<li class=\"${className}\">\n                <button class=\"${paginationName}-button\">${( index + 1 )}</button></li>`;\n        },\n        paginationFractionRender( swiper: any, currentClassName: string, totalClassName: string ): Object {\n            return `<span class=\"${teaserName}__number ${currentClassName}\"></span> ${fractionPaginationSeparator} <span class=\"${teaserName}__number ${totalClassName}\"></span>`;\n        },\n    };\n\n    currentSettings = $.extend( defaultSettings, settings );\n\n    /**\n     * Calculates number of slides that should be visible according to teaser's wrapper width.\n     * @return {number} Number of slides.\n     */\n    const calculateSlidesNumber: any = function(): number {\n        const slidesNumber: number = Math.floor( $teaserWrapper.innerWidth() / ( currentSettings.slideMinWidth + currentSettings.spaceBetween ) );\n\n        const maxSlidesAllowed: number = parseInt( currentSettings.maxSlidesPerView, 10 );\n\n        if ( slidesNumber < maxSlidesAllowed ) {\n            return slidesNumber;\n        } else {\n            return maxSlidesAllowed;\n        }\n    };\n\n    if ( dynamicNumOfSlides && currentSettings.calculateSlides ) {\n        currentSettings.slidesPerView =\n            currentSettings.slidesPerGroup = calculateSlidesNumber();\n    }\n\n    /**\n     * Updates slider sizing by adjusting number of visible slides and pagination.\n     */\n    const updateSliderSizing: any = function(): void {\n        if ( !$element.is( ':visible' ) ) {\n            return null;\n        }\n\n        if ( dynamicNumOfSlides && currentSettings.calculateSlides ) {\n            currentSettings.slidesPerView =\n                currentSettings.slidesPerGroup = calculateSlidesNumber();\n        }\n\n        swiperInstance.params = $.extend( swiperInstance.params, currentSettings );\n    };\n\n    const postInit: any = function(): void {\n        if ( swiperInstance.params.slidesPerView !== 1 && !swiperInstance.params.onlyBulletPagination ) {\n\n            const totalSlidesNumber: number = swiperInstance.slides.length;\n            const totalGroupNumber: number = Math.ceil( totalSlidesNumber / swiperInstance.params.slidesPerGroup );\n\n            if ( totalGroupNumber > swiperInstance.params.paginationBreakpoint ) {\n                swiperInstance.params.paginationType = 'fraction';\n            } else {\n                swiperInstance.params.paginationType = 'bullets';\n            }\n        }\n    };\n\n    swiperInstance = new Swiper( $element.find( `${teaserClass}__wrapper` ), currentSettings );\n    destroyed = false;\n    postInit();\n    swiperInstance.update();\n\n    $( window ).on( 'resize', function(): void {\n        if ( !destroyed ) {\n            updateSliderSizing();\n            postInit();\n            swiperInstance.update();\n        }\n    } );\n\n    /**\n     * Returns Swiper object.\n     * @return {Swiper} Swiper object.\n     */\n    teaser.getSwiper = function(): void {\n        return swiperInstance;\n    };\n\n    /**\n     * Destroyes teaser.\n     */\n    teaser.destroy = function(): void {\n        swiperInstance.destroy();\n        destroyed = true;\n    };\n};\n\nexport default csTeaser;\n","import $ from 'jquery';\n\nimport csTeaser from '../../teaser/src/teaser';\n\n/**\n * component options interface.\n * Please refer to swiper documentation and our teaser component for more options and callbacks\n */\ninterface BrandCarouselOptions {\n    /**\n     * HTML Class of the component\n     * @type {string}\n     * @default 'cs-brand-carousel'\n     */\n    teaserName?: string;\n\n    /**\n     * Slides per viewport\n     * @type {string / number}\n     * @default 'auto'\n     */\n    slidesPerView?: any;\n\n    /**\n     * Space between slides (in px)\n     * @type {number}\n     * @default 30\n     */\n    spaceBetween?: number;\n\n    /**\n     * Maximum width of single slide (in px)\n     * @type {number}\n     * @default 220\n     */\n    slideMinWidth?: number;\n}\n\nexport default class BrandCarousel {\n    protected _$element: JQuery;\n\n    /**\n     * Creates new ProductsPromo component with optional settings.\n     * @param {$element} Optional, element to be initialized as ProductsPromo component\n     * @param {options}  Optional settings object.\n     */\n    public constructor( $element?: JQuery, options?: BrandsCarouselOptions ) {\n        this._options = $.extend( {\n            teaserName: 'cs-brand-carousel',\n            slidesPerView: 'auto',\n            spaceBetween: 30,\n            slideMinWidth: 220,\n            roundLengths: true,\n            calculateSlides: false,\n            loop: true,\n            centeredSlides: true,\n        }, options );\n\n        this._$element = $element || $( `.${this._options.teaserName}` );\n\n        this._init();\n    }\n\n    public getInstance(): any {\n        return this._instance;\n    }\n\n    /**\n     * Initializes all $element's with previously defined options\n     */\n    protected _init(): void {\n        if ( this._$element.length && this._$element.find( `.${this._options.teaserName}__slide` ).length > 1 ) {\n            this._instance = new csTeaser( this._$element, this._options );\n        }\n    }\n}\n"],"names":[],"mappings":"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"}