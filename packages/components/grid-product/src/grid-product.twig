{% if showWrapper %}
    <{{ tag }} class="{{ namespace }}grid-product{% if mode is defined and mode == 'static' %} {{ namespace }}grid-product--static{% endif %} {{ mix }}" tabindex="-1">
{% endif %}
    <div class="{{ namespace }}grid-product__main">
        <a href="{{ url }}" class="{{ namespace }}grid-product__figure-wrapper">
            <figure class="{{ namespace }}grid-product__figure">
                <img class="{{ namespace }}grid-product__image {{ image.mix }}" src="{{ image.src }}" alt="{{ image.alt }}">
            </figure>
            {% if badges.length %}
                <ul class="{{ namespace }}grid-product__badges">
                    {% for badge in badges %}
                        <li class="{{ namespace }}grid-product__badge {{ badge.mix }}">
                            {{ badge.content|raw }}
                        </li>
                    {% endfor %}
                </ul>
            {% endif %}
        </a>

        {% if hotspots.after.photo %}
            {{ hotspots.after.photo|raw }}
        {% endif %}

        {% if swatches is defined and swatches.content is defined and swatches.asAddon == false %}
            <div class="{{ namespace }}grid-product__swatches {{ swatches.mix }}">
                {{ swatches.content|raw }}
            </div>
        {% endif %}

        {% if hotspots.after.swatches %}
            {{ hotspots.after.swatches|raw }}
        {% endif %}

        <div class="{{ namespace }}grid-product__name">
            <a href="{{ url }}" class="{{ namespace }}grid-product__name-link">{{ name|raw }}</a>
        </div>

        {% if hotspots.after.name %}
            {{ hotspots.after.name|raw }}
        {% endif %}

        <div class="{{ namespace }}grid-product__price {{ price.mix }}">
            {{ price.content|raw }}
        </div>

        {% if hotspots.after.price %}
            {{ hotspots.after.price|raw }}
        {% endif %}
    </div>

    {% if addons is defined and addons.show %}
        <div class="{{ namespace }}grid-product__addons {{ addons.mix }}">

            {% if swatches is defined and swatches.content is defined and swatches.asAddon == true %}
                <div class="{{ namespace }}grid-product__addon {{ namespace }}grid-product__addon--swatches">
                    <div class="{{ namespace }}grid-product__swatches {{ swatches.mix }}">
                        {{ swatches.content|raw }}
                    </div>
                </div>
            {% endif %}

            {% if rating is defined %}
                <div class="{{ namespace }}grid-product__addon {{ namespace }}grid-product__addon--rating">
                    {% include locate( 'star-rating/star-rating.twig' ) with {
                        namespace: namespace,
                        mix: namespace ~ 'grid-product__star-rating ' ~ rating.mix,
                        maxStars: rating.maxStars,
                        activeStars: rating.activeStars,
                        text: rating.text
                    } %}
                </div>
            {% endif %}

            {% if hotspots.after.rating.content %}
                <div class="{{ namespace }}grid-product__addon {{ hotspots.after.rating.mix }}">
                    {{ hotspots.after.rating.content|raw }}
                </div>
            {% endif %}

            {% if commentForm %}
                <div class="{{ namespace }}grid-product__addon {{ namespace }}grid-product__addon--comment-form">
                    {{ commentForm|raw }}
                </div>
            {% endif %}

            {% if hotspots.after.commentForm.content %}
                <div class="{{ namespace }}grid-product__addon {{ hotspots.after.commentForm.mix }}">
                    {{ hotspots.after.commentForm.content|raw }}
                </div>
            {% endif %}

            {% if stock.showInStock %}
                <div class="{{ namespace }}grid-product__addon {{ namespace }}grid-product__addon--stock">
                    <p class="{{ namespace }}grid-product__stock {{ namespace }}grid-product__stock--in-stock">
                        {{ stock.inStockContent|raw }}
                    </p>
                </div>
            {% endif %}

            {% if stock.showOutOfStock %}
                <div class="{{ namespace }}grid-product__addon {{ namespace }}grid-product__addon--stock">
                    <p class="{{ namespace }}grid-product__stock {{ namespace }}grid-product__stock--out-of-stock">
                        {{ stock.outOfStockContent|raw }}
                    </p>
                </div>
            {% endif %}

            {% if hotspots.after.inStock.content %}
                <div class="{{ namespace }}grid-product__addon {{ hotspots.after.inStock.mix }}">
                    {{ hotspots.after.inStock.content|raw }}
                </div>
            {% endif %}

            {% if addToCartButton %}
                <div class="{{ namespace }}grid-product__addon {{ namespace }}grid-product__addon--action-button">
                    {{ addToCartButton|raw }}
                </div>
            {% endif %}

            {% if hotspots.after.addToCartButton.content %}
                <div class="{{ namespace }}grid-product__addon {{ hotspots.after.addToCartButton.mix }}">
                    {{ hotspots.after.addToCartButton.content|raw }}
                </div>
            {% endif %}

            {% if hotspots.after.outOfStock.content %}
                <div class="{{ namespace }}grid-product__addon {{ hotspots.after.outOfStock.mix }}">
                    {{ hotspots.after.outOfStock.content|raw }}
                </div>
            {% endif %}

            {% if additionalLinks.links.length %}
                <div class="{{ namespace }}grid-product__addon {{ namespace }}grid-product__addon--links">
                    <ul class="{{ namespace }}grid-product__links {{ additionalLinks.mix }}">
                        {% for link in additionalLinks.links %}
                            <li class="{{ namespace }}grid-product__link-item">
                                {{ link|raw }}
                                {% if loop.index < additionalLinks.links.length and additionalLinks.separator is defined %}{{ additionalLinks.separator|raw }}{% endif %}
                            </li>
                        {% endfor %}
                    </ul>
                </div>
            {% endif %}

            {% if hotspots.after.all.content %}
                <div class="{{ namespace }}grid-product__addon {{ hotspots.after.all.mix }}">
                    {{ hotspots.after.all.content|raw }}
                </div>
            {% endif %}
        </div>
    {% endif %}

    {% if removeButton %}
        <div class="{{ namespace }}grid-product__remove">
            {{ removeButton }}
        </div>
    {% endif %}

{% if showWrapper %}
    </{{ tag }}>
{% endif %}
