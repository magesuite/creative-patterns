{"version":3,"file":null,"sources":["../../cc-component-picker/src/cc-component-picker.ts","../src/m2c-component-picker.ts"],"sourcesContent":["import template from './cc-component-picker.tpl';\n\n/**\n * Single component information object.\n */\ninterface IComponentInformation {\n    type: string;\n    /**\n     * Cover image url.\n     * @type {string}\n     */\n    cover: string;\n    /**\n     * Cover image alt attribute value.\n     * @type {string}\n     */\n    coverAlt: string;\n    name: string;\n}\n\n/**\n * Components information object that should be returned by AJAX call to API.\n */\ninterface IComponentsInformation {\n    components: IComponentInformation[];\n}\n\n/**\n * Componen picker.\n * Lists all types of components available in m2c in the grid/list mode\n * @type {vuejs.ComponentOption} Vue component object.\n */\nconst ccComponentPicker: vuejs.ComponentOption = {\n    template: template,\n    props: {\n        /**\n         * Class property support to enable BEM mixes.\n         */\n        class: {\n            type: String,\n            default: '',\n            coerce: ( value: String ): String => value.replace( 'cc-component-picker', '' )\n        },\n        /**\n         * Property containing callback triggered when user picks component.\n         */\n        pickComponent: {\n            type: Function\n        },\n        /**\n         * JSON stringified array containing available components.\n         */\n        components: {\n            type: String,\n            default: ''\n        },\n        /**\n         * URL for API returning JSON stringified array containing available components.\n         */\n        componentsEndpoint: {\n            type: String,\n            default: ''\n        }\n    },\n    data: function(): any {\n        return {\n            availableComponents: []\n        };\n    },\n    ready: function(): void {\n        console.log( this.components, this.componentsEndpoint );\n        // If inline JSON is provided then parse it.\n        if ( this.components ) {\n            this.availableComponents = this.components;\n        } else if ( this.componentsEndpoint ) {\n            // Otherwise load from endpoint if URL provided.\n            this.$http.get( this.componentsEndpoint ).then( function( response: vuejs.HttpResponse ): void {\n                this.availableComponents = response.json();\n            } );\n        }\n    },\n    methods: {\n        /**\n         * Component pick click handler.\n         * This handler triggers \"cc-component-picker__pick\" event up the DOM chain when called.\n         * @param {Event} event Click event object.\n         */\n        onPickComponent: function ( componentType: String ): void {\n            this.$dispatch( 'cc-component-picker__pick', componentType );\n\n            if ( typeof this.pickComponent === 'function' ) {\n                this.pickComponent( componentType );\n            }\n        }\n    },\n};\n\nexport default ccComponentPicker;\n","import ccComponentPicker from '../../cc-component-picker/src/cc-component-picker';\n\nimport template from './m2c-component-picker.tpl';\n\n/**\n * M2C component picker.\n * This is just an additional layer over generic component picker\n * that can have custom, Magento 2 specific logic.\n * @type {vuejs.ComponentOption} Vue component object.\n */\nconst m2cComponentPicker: vuejs.ComponentOption = {\n    template: template,\n    components: {\n        'cc-component-picker': ccComponentPicker\n    },\n    props: {\n        /**\n         * Class property support to enable BEM mixes.\n         */\n        class: {\n            type: String,\n            default: '',\n            coerce: ( value: String ): String => value.replace( 'm2c-component-picker', '' )\n        },\n        /**\n         * JSON stringified array containing available components.\n         */\n        components: {\n            type: String,\n            default: ''\n        },\n        /**\n         * URL for API returning JSON stringified array containing available components.\n         */\n        componentsEndpoint: {\n            type: String,\n            default: ''\n        }\n    }\n};\n\nexport default m2cComponentPicker;\n"],"names":["template"],"mappings":";;;;;IA2BA;;;;;AAKA,IAAA,IAAM,iBAAiB,GAA0B;QAC7C,QAAQ,EAAE,QAAQ;QAClB,KAAK,EAAE;;;;YAIH,KAAK,EAAE;gBACH,IAAI,EAAE,MAAM;gBACZ,OAAO,EAAE,EAAE;gBACX,MAAM,EAAE,UAAE,KAAa,IAAc,OAAA,KAAK,CAAC,OAAO,CAAE,qBAAqB,EAAE,EAAE,CAAE,GAAA;aAClF;;;;YAID,aAAa,EAAE;gBACX,IAAI,EAAE,QAAQ;aACjB;;;;YAID,UAAU,EAAE;gBACR,IAAI,EAAE,MAAM;gBACZ,OAAO,EAAE,EAAE;aACd;;;;YAID,kBAAkB,EAAE;gBAChB,IAAI,EAAE,MAAM;gBACZ,OAAO,EAAE,EAAE;aACd;SACJ;QACD,IAAI,EAAE;YACF,OAAO;gBACH,mBAAmB,EAAE,EAAE;aAC1B,CAAC;SACL;QACD,KAAK,EAAE;YACH,OAAO,CAAC,GAAG,CAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,kBAAkB,CAAE,CAAC;;YAExD,IAAK,IAAI,CAAC,UAAW,EAAE;gBACnB,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,UAAU,CAAC;aAC9C;iBAAM,IAAK,IAAI,CAAC,kBAAmB,EAAE;;gBAElC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAE,IAAI,CAAC,kBAAkB,CAAE,CAAC,IAAI,CAAE,UAAU,QAA4B;oBAClF,IAAI,CAAC,mBAAmB,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC;iBAC9C,CAAE,CAAC;aACP;SACJ;QACD,OAAO,EAAE;;;;;;YAML,eAAe,EAAE,UAAW,aAAqB;gBAC7C,IAAI,CAAC,SAAS,CAAE,2BAA2B,EAAE,aAAa,CAAE,CAAC;gBAE7D,IAAK,OAAO,IAAI,CAAC,aAAa,KAAK,UAAW,EAAE;oBAC5C,IAAI,CAAC,aAAa,CAAE,aAAa,CAAE,CAAC;iBACvC;aACJ;SACJ;KACJ,CAAC,AAEF;;;;IC7FA;;;;;;AAMA,IAAA,IAAM,kBAAkB,GAA0B;QAC9C,QAAQ,EAAEA,UAAQ;QAClB,UAAU,EAAE;YACR,qBAAqB,EAAE,iBAAiB;SAC3C;QACD,KAAK,EAAE;;;;YAIH,KAAK,EAAE;gBACH,IAAI,EAAE,MAAM;gBACZ,OAAO,EAAE,EAAE;gBACX,MAAM,EAAE,UAAE,KAAa,IAAc,OAAA,KAAK,CAAC,OAAO,CAAE,sBAAsB,EAAE,EAAE,CAAE,GAAA;aACnF;;;;YAID,UAAU,EAAE;gBACR,IAAI,EAAE,MAAM;gBACZ,OAAO,EAAE,EAAE;aACd;;;;YAID,kBAAkB,EAAE;gBAChB,IAAI,EAAE,MAAM;gBACZ,OAAO,EAAE,EAAE;aACd;SACJ;KACJ,CAAC,AAEF;;;;"}