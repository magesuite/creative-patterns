{"version":3,"file":null,"sources":["../src/class.cs-2-way-switch.ts","../src/cs-2-way-switch.ts"],"sourcesContent":["import $ from 'jQuery';\n\ninterface ITwoWaySwitch {\n    init(): void;\n    setActive($element: JQuery): void;\n}\n\ninterface ITwoWaySwitchSettings {\n    $element: JQuery;\n    $items: JQuery;\n    activeClass: string;\n    onChange?(): void;\n    onFirst?(): void;\n    onSecond?(): void;\n}\n\nclass TwoWaySwitch implements ITwoWaySwitch {\n    private settings: ITwoWaySwitchSettings;\n    private _whichActive: number = null;\n    private _$activeItem: JQuery = null;\n    private _activeItemNo: number = null;\n\n    constructor(settings: ITwoWaySwitchSettings) {\n        this.settings = settings;\n    }\n\n    public setActive($element: JQuery): void {\n        $element.data('isActive', true);\n        $element.addClass(this.settings.activeClass);\n        this._activeItemNo = $element.data('switchIndex');\n    }\n\n    public init(): void {\n        this._getItemsState();\n        this._events();\n    }\n\n    private _getItemsState(): void {\n        this._$activeItem = this.settings.$items.each((index: number, element: HTMLElement) => {\n            let $element: JQuery = $(element);\n            $element.data('switchIndex', index);\n\n            if ($element.hasClass(this.settings.activeClass)) {\n                this._activeItemNo = index;\n                return $element;\n            }\n        });\n\n    }\n\n    private _events(): void {\n        this.settings.$items.each((index: number, element: HTMLElement) => {\n            let $element: JQuery = $(element);\n            let elementNo: number = $element.data('switchIndex');\n\n            $element.on('click', (e: Event) => {\n                e.preventDefault();\n\n                if (this._isItemActive($element)) {\n                    return 'Item already active';\n                }\n\n                this._resetActive();\n                this.setActive($element);\n\n                // Callbacks\n                if (this.settings.onChange) {\n                    this.settings.onChange();\n                }\n                if (elementNo === 0 && this.settings.onFirst) {\n                    this.settings.onFirst();\n\n                } else if (elementNo === 1 && this.settings.onSecond) {\n                    this.settings.onSecond();\n\n                } else if (elementNo > 1) {\n                    throw new Error('Wrong index');\n                }\n\n            });\n\n        });\n    }\n\n    private _isItemActive($element: JQuery): boolean {\n        return $element.data('switchIndex') === this._activeItemNo;\n    }\n\n    private _resetActive(): void {\n        this.settings.$items.removeClass(this.settings.activeClass);\n        this._whichActive = null;\n        this.settings.$items.data('isActive', false);\n    }\n\n}\n\nexport {TwoWaySwitch};\nexport {ITwoWaySwitch};\n","import {TwoWaySwitch} from './class.cs-2-way-switch';\n\nlet buttons: TwoWaySwitch = new TwoWaySwitch({\n    $element: $('.cs-2-way-switch'),\n    $items: $('.cs-2-way-switch__item'),\n    activeClass: 'cs-2-way-switch__item--is-active',\n    onFirst (): void {\n        $('body').append('<strong>first</strong> button callback<br><br>');\n    },\n    onSecond (): void {\n        $('body').append('<strong>second</strong> button callback<br><br>');\n    },\n    onChange (): void {\n        $('body').append('<strong>any</strong> button changed callback<br><br>');\n    },\n});\n\nbuttons.init();\n"],"names":["$"],"mappings":"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"}