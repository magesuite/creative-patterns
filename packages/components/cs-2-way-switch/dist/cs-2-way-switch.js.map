{"version":3,"file":null,"sources":["../src/class.cs-2-way-switch.ts","../src/cs-2-way-switch.ts"],"sourcesContent":["//JQuery needed\r\n\r\ninterface ITwoWaySwitch {\r\n    init(): void,\r\n    setActive($element: JQuery): void\r\n}\r\n\r\ninterface ITwoWaySwitchSettings {\r\n    $element: JQuery,\r\n    $items: JQuery,\r\n    activeClass: string,\r\n    onChange?(): void,\r\n    onFirst?(): void,\r\n    onSecond?(): void\r\n}\r\n\r\nclass TwoWaySwitch implements ITwoWaySwitch {\r\n    private settings: ITwoWaySwitchSettings;\r\n    private _whichActive: number = null;\r\n    private _$activeItem: JQuery = null;\r\n    private _activeItemNo: number = null;\r\n\r\n    constructor(settings: ITwoWaySwitchSettings) {\r\n        this.settings = settings;\r\n    }\r\n\r\n    _getItemsState() {\r\n        this._$activeItem = this.settings.$items.each((index, element)=> {\r\n            let $element = $(element);\r\n            $element.data('switchIndex', index);\r\n\r\n            if ($element.hasClass(this.settings.activeClass)) {\r\n                this._activeItemNo = index;\r\n                return $element;\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    _events() {\r\n        this.settings.$items.each((index, element)=> {\r\n            let $element = $(element);\r\n            let elementNo = $element.data('switchIndex');\r\n\r\n            $element.on('click', (e) => {\r\n                e.preventDefault();\r\n\r\n                if (this._isItemActive($element)) {\r\n                    return 'Item already active';\r\n                }\r\n\r\n                this._resetActive();\r\n                this.setActive($element);\r\n\r\n                //Callbacks\r\n                this.settings.onChange ? this.settings.onChange() : 'or no callback .(ツ)_/¯ ';\r\n\r\n                if (elementNo === 0 && this.settings.onFirst) {\r\n                    this.settings.onFirst();\r\n\r\n                } else if (elementNo === 1 && this.settings.onSecond) {\r\n                    this.settings.onSecond();\r\n\r\n                } else if (elementNo > 1) {\r\n                    throw new Error('Wrong index');\r\n                }\r\n\r\n            });\r\n\r\n        });\r\n    }\r\n\r\n    _isItemActive($element: JQuery) {\r\n        return $element.data('switchIndex') === this._activeItemNo;\r\n    }\r\n\r\n    _resetActive() {\r\n        this.settings.$items.removeClass(this.settings.activeClass);\r\n        this._whichActive = null;\r\n        this.settings.$items.data('isActive', false);\r\n    }\r\n\r\n    setActive($element: JQuery) {\r\n        $element.data('isActive', true);\r\n        $element.addClass(this.settings.activeClass);\r\n        this._activeItemNo = $element.data('switchIndex');\r\n    }\r\n\r\n    init() {\r\n        this._getItemsState();\r\n        this._events();\r\n    }\r\n\r\n}\r\n\r\nexport {TwoWaySwitch};\r\nexport {ITwoWaySwitch};","import {TwoWaySwitch} from './class.cs-2-way-switch';\r\n\r\nlet buttons = new TwoWaySwitch({\r\n    $element: $('.cs-2-way-switch'),\r\n    $items: $('.cs-2-way-switch__item'),\r\n    activeClass: 'cs-2-way-switch__item--is-active',\r\n    onFirst: function () {\r\n        $('body').append('<strong>first</strong> button callback<br><br>');\r\n    },\r\n    onSecond: function () {\r\n        $('body').append('<strong>second</strong> button callback<br><br>');\r\n    },\r\n    onChange: function () {\r\n        $('body').append('<strong>any</strong> button changed callback<br><br>');\r\n    }\r\n});\r\n\r\nbuttons.init();"],"names":[],"mappings":"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"}