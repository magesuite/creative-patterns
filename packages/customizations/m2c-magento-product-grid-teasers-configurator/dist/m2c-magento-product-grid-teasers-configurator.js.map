{"version":3,"file":null,"sources":["../../../components/cc-component-configurator/src/cc-component-configurator.ts","../../../components/action-button/src/action-button.ts","../../../components/cc-component-actions/src/cc-component-actions.ts","../../../components/cc-component-adder/src/cc-component-adder.ts","../../../components/cc-component-placeholder/src/cc-component-placeholder.ts","../../../components/cc-magento-product-grid-teasers-configurator/src/cc-magento-product-grid-teasers-configurator.ts","../src/m2c-magento-product-grid-teasers-configurator.ts"],"sourcesContent":["/**\n * Base configurator component.\n * This component is responsible for providing base functionality for other configurators.\n * @type {vuejs.ComponentOption} Vue component object.\n */\nconst ccComponentConfigurator: vuejs.ComponentOption = {\n    props: {\n        /**\n         * Class property support to enable BEM mixes.\n         */\n        class: {\n            type: [ String, Object, Array ],\n            default: '',\n        },\n        /**\n         * Property containing callback triggered when user saves component.\n         * For default, we are providing a dummy function so we can skip the type check.\n         */\n        save: {\n            type: Function,\n            default: (): Function => (): undefined => undefined,\n        },\n        /**\n         * Property containing callback triggered when configuration is changed.\n         * For default, we are providing a dummy function so we can skip the type check.\n         */\n        change: {\n            type: Function,\n            default: (): Function => (): undefined => undefined,\n        },\n        /**\n         *\n         */\n        configuration: {\n            type: String,\n            default(): any {},\n        },\n    },\n    methods: {\n        onChange( event?: Event ): void {\n            // Serialize reactive data.\n            const data: any = JSON.parse( JSON.stringify( this.configuration ) );\n            // Trigger event and callback.\n            this.$dispatch( 'cc-component-configurator__changed', data );\n            this.change( data );\n        },\n        onSave( event?: Event ): void {\n            // Serialize reactive data.\n            const data: any = JSON.parse( JSON.stringify( this.configuration ) );\n            // Trigger event and callback.\n            this.$dispatch( 'cc-component-configurator__saved', data );\n            this.save( data );\n        },\n    },\n    events: {\n        /**\n         * Listen on save event from Content Configurator component.\n         */\n        'cc-component-configurator__save'(): void {\n            if ( this._events['cc-component-configurator__save'].length === 1 ) {\n                this.onSave();\n            }\n        },\n    },\n};\n\nexport { ccComponentConfigurator };\nexport default ccComponentConfigurator;\n","/**\n * Action button component version.\n * Small component that allows to set it's content.\n *\n * @type {vuejs.ComponentOption} Vue component object.\n */\nconst actionButton: vuejs.ComponentOption = {\n    template: `<button class=\"action-button {{ class }}\" @click=\"_onClick\">\n        <slot></slot>\n    </button>`,\n    props: {\n        /**\n         * Class property support to enable BEM mixes.\n         */\n        class: {\n            type: [ String, Object, Array ],\n            default: '',\n        },\n    },\n    methods: {\n        /**\n         * Button click handler.\n         * This handler triggers \"action-button__click\" event up the DOM chain when called.\n         * @param {Event} event Click event object.\n         */\n        _onClick( event: Event ): void {\n            this.$dispatch( 'action-button__click', event );\n        },\n    },\n};\n\nexport default actionButton;\n","/**\n * Component actions component.\n * This component is responsible for displaying and handling user interactions of\n * side utility navigation for each component that supports:\n * - Moving component up,\n * - Moving component down,\n * - Opening component settings,\n * - Deleting component.\n *\n * @type {vuejs.ComponentOption} Vue component object.\n */\nconst componentActions: vuejs.ComponentOption = {\n    template: `<aside class=\"cc-component-actions | {{ class }}\">\n        <div class=\"cc-component-actions__buttons\">\n            <slot name=\"cc-component-actions__buttons\"></slot>\n        </div>\n    </aside>`,\n    props: {\n        /**\n         * Class property support to enable BEM mixes.\n         */\n        class: {\n            type: String,\n            default: '',\n            coerce: ( value: String ): String => value.replace( 'cc-component-actions', '' ),\n        },\n    },\n};\n\nexport default componentActions;\n","/**\n * Component controller component.\n * This component is responsible for displaying annd handling component adding button\n * @type {vuejs.ComponentOption} Vue component object.\n */\n\nconst componentAdder: vuejs.ComponentOption = {\n    template: `<div class=\"cc-component-adder {{ class }}\">\n        <div class=\"cc-component-adder__button-wrapper\" @click=\"onCreateComponent\">\n            <slot></slot>\n        </div>\n        <span class=\"cc-component-adder__dashline\"></span>\n    </div>`,\n    props: {\n        /**\n         * Class property support to enable BEM mixes.\n         */\n        class: {\n            type: String,\n            default: '',\n            coerce( value: string ): string {\n                return value.replace( 'cc-component-adder', '' );\n            },\n        },\n        /**\n         * Property containing callback triggered when user clicks \"add component\" button.\n         */\n        createComponent: {\n            type: Function,\n        },\n    },\n    methods: {\n        /**\n         * \"Add component\" button click handler.\n         * This handler triggers \"cc-component-adder__create-component\" event up the DOM chain when called.\n         * @param {Event} event Click event object.\n         */\n        onCreateComponent( event: Event ): void {\n            this.$dispatch( 'cc-component-adder__create-component', event );\n            if ( typeof this.createComponent === 'function' ) {\n                this.createComponent( event );\n            }\n        },\n    },\n};\n\nexport default componentAdder;\n","/**\n * Component placeholder component.\n */\nconst componentPlaceholder: any = {\n    template: `<div class=\"cc-component-placeholder\">\n        <div class=\"cc-component-placeholder__content\">\n            <slot></slot>\n        </div>\n    </div>`,\n};\n\nexport default componentPlaceholder;\n","import ccComponentConfigurator from '../../cc-component-configurator/src/cc-component-configurator';\n\nimport actionButton from '../../action-button/src/action-button';\nimport componentActions from '../../cc-component-actions/src/cc-component-actions';\nimport componentAdder from '../../cc-component-adder/src/cc-component-adder';\nimport componentPlaceholder from '../../cc-component-placeholder/src/cc-component-placeholder';\n\n/**\n * Magento product-grid teasers configurator component.\n * This component will be responsible for configuration of image teasers inside native products grid on M2 category pages\n * @type {vuejs.ComponentOption} Vue component object.\n */\nconst ccMagentoProductGridTeasersConfigurator: vuejs.ComponentOption = {\n    mixins: [\n        ccComponentConfigurator,\n    ],\n    template: `<div class=\"cc-magento-product-grid-teasers-configurator | {{ class }}\">\n    <cc-component-adder>\n        <button is=\"action-button\" class=\"action-button action-button--look_important action-button--type_icon-only\" @click=\"createNewTeaser( 0 )\">\n            <svg class=\"action-button__icon action-button__icon--size_300\">\n                <use xlink:href=\"../images/sprites.svg#icon_plus\"></use>\n            </svg>\n        </button>\n    </cc-component-adder>\n    <template v-for=\"item in configuration.teasers\">\n        <div class=\"cc-magento-product-grid-teasers-configurator__item\">\n            <div class=\"cc-magento-product-grid-teasers-configurator__item-actions\">\n                <cc-component-actions>\n                    <template slot=\"cc-component-actions__top\">\n                        <button is=\"action-button\" class=\"action-button action-button--look_default action-button--type_icon-only | cc-component-actions__button cc-component-actions__button--up\" @click=\"moveTeaserUp( $index )\" :class=\"[ isFirstComponent( $index ) ? 'action-button--look_disabled' : '' ]\" :disabled=\"isFirstComponent( $index )\">\n                            <svg class=\"action-button__icon action-button__icon--size_100\">\n                                <use xlink:href=\"../images/sprites.svg#icon_arrow-up\"></use>\n                            </svg>\n                        </button>\n                        <button is=\"action-button\" class=\"action-button action-button--look_default action-button--type_icon-only | cc-component-actions__button cc-component-actions__button--down\" @click=\"moveTeaserDown( $index )\" :class=\"[ isLastComponent( $index ) ? 'action-button--look_disabled' : '' ]\" :disabled=\"isLastComponent( $index )\">\n                            <svg class=\"action-button__icon action-button__icon--size_100\">\n                                <use xlink:href=\"../images/sprites.svg#icon_arrow-down\"></use>\n                            </svg>\n                        </button>\n                    </template>\n                    <template slot=\"cc-component-actions__bottom\">\n                        <button is=\"action-button\" class=\"action-button action-button--look_default action-button--type_icon-only | cc-component-actions__button cc-component-actions__button--delete\" @click=\"deleteTeaser( $index )\">\n                            <svg class=\"action-button__icon\">\n                                <use xlink:href=\"../images/sprites.svg#icon_trash-can\"></use>\n                            </svg>\n                        </button>\n                    </template>\n                </cc-component-actions>\n            </div>\n            <div class=\"cc-magento-product-grid-teasers-configurator__item-content\">\n                <div class=\"cc-magento-product-grid-teasers__item-image\"></div>\n                <div class=\"cc-magento-product-grid-teasers__item-options\">\n                    <div class=\"cs-input\">\n                        <label for=\"cfg-mpg-teaser{{ $index }}-variant\" class=\"cs-input__label\">Display variant:</label>\n                        <select name=\"cfg-mpg-teaser{{ $index }}-variant\" class=\"cs-input__select\" id=\"cfg-mpg-teaser{{ $index }}-variant\" v-model=\"configuration.displayVariant\">\n                            <option value=\"variant-1\">Text vertically centered on the left</option>\n                            <option value=\"variant-2\">Text vertically centered in the middle</option>\n                            <option value=\"variant-3\">Text on the bottom, left corner</option>\n                            <option value=\"variant-4\">Text on the bottom - centered</option>\n                        </select>\n                    </div>\n                    <div class=\"cs-input\">\n                        <label for=\"cfg-mpg-teaser{{ $index }}-headline\" class=\"cs-input__label\">Headline:</label>\n                        <input type=\"text\" v-model=\"configuration.items[$index].headline\" id=\"cfg-mpg-teaser{{ $index }}-headline\" class=\"cs-input__input\">\n                    </div>\n                    <div class=\"cs-input\">\n                        <label for=\"cfg-mpg-teaser{{ $index }}-paragraph\" class=\"cs-input__label\">Paragraph:</label>\n                        <textarea type=\"text\" v-model=\"configuration.items[$index].paragraph\" id=\"cfg-mpg-teaser{{ $index }}-paragraph\" class=\"cs-input__textarea\" placeholder=\"(max 200 characters)\" maxlength=\"200\"></textarea>\n                    </div>\n                    <div class=\"cs-input\">\n                        <label for=\"cfg-mpg-teaser{{ $index }}-ctaLabel\" class=\"cs-input__label\">CTA label:</label>\n                        <input type=\"text\" v-model=\"configuration.items[$index].ctaLabel\" id=\"cfg-mpg-teaser{{ $index }}-ctaLabel\" class=\"cs-input__input\">\n                    </div>\n                    <div class=\"cs-input cs-input--type-addon\">\n                        <label for=\"cfg-mpg-teaser{{ $index }}-cta-label\" class=\"cs-input__label\">CTA label:</label>\n                        <input type=\"text\" v-model=\"configuration.items[$index].ctaLabel\" id=\"cfg-mpg-teaser{{ $index }}-cta-label\" class=\"cs-input__input\">\n                    </div>\n                    <div class=\"cs-input cs-input--type-addon\">\n                        <label for=\"cfg-mpg-teaser{{ $index }}-cta-target\" class=\"cs-input__label\">CTA target link:</label>\n                        <input type=\"text\" v-model=\"configuration.items[$index].ctaTarget\" id=\"cfg-mpg-teaser{{ $index }}-cta-target\" class=\"cs-input__input\">\n                        <span class=\"cs-input__addon\">\n                            <svg class=\"cs-input__addon-icon\">\n                                <use xlink:href=\"../images/sprites.svg#icon_link\"></use>\n                            </svg>\n                        </span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <cc-component-adder v-if=\"configuration.items.length\">\n            <button is=\"action-button\" class=\"action-button action-button--look_important action-button--type_icon-only\" @click=\"createNewTeaser( $index + 1 )\">\n                <svg class=\"action-button__icon action-button__icon--size_300\">\n                    <use xlink:href=\"../images/sprites.svg#icon_plus\"></use>\n                </svg>\n            </button>\n        </cc-component-adder>\n    </template>\n</div>`,\n    /**\n     * Get dependencies\n     */\n    components: {\n        'action-button': actionButton,\n        'cc-component-adder': componentAdder,\n        'cc-component-actions': componentActions,\n        'cc-component-placeholder': componentPlaceholder,\n    },\n    props: {\n        /**\n         * Class property support to enable BEM mixes.\n         */\n        class: {\n            type: [ String, Object, Array ],\n            default: '',\n        },\n        /**\n         * Single's component configuration \n         */\n        configuration: {\n            type: Object,\n            default(): Object {\n                return {\n                    teasers: [],\n                };\n            },\n        },\n    },\n};\n\nexport default ccMagentoProductGridTeasersConfigurator;\n","import ccMagentoProductGridTeasersConfigurator from '../../../components/cc-magento-product-grid-teasers-configurator/src/cc-magento-product-grid-teasers-configurator';\n\nimport $ from 'jquery';\nimport $t from 'mage/translate';\nimport alert from 'Magento_Ui/js/modal/alert';\nimport confirm from 'Magento_Ui/js/modal/confirm';\n\n// Pattern for teaser Item\nconst teaserDataPattern: any = {\n    sizeSelect: '2x1',\n    size: {\n        x: 2,\n        y: 1\n    },\n    position: 'left',\n    row: 1,\n    isAvailableForMobile: 1,\n    image: '',\n    decodedImage: '',\n    displayVariant: 'variant-1',\n    colorScheme: 'light',\n    headline: '',\n    subheadline: '',\n    paragraph: '',\n    ctaLabel: $t( 'Check offer' ),\n    href: '',\n};\n\n/**\n * M2C skin for magento product grid teasers configurator component.\n * This component will be responsible for configuration of image teasers inside native products grid on M2 category pages\n * @type {vuejs.ComponentOption} Vue component object.\n */\nconst m2cMagentoProductGridTeasersConfigurator: vuejs.ComponentOption = {\n    mixins: [\n        ccMagentoProductGridTeasersConfigurator,\n    ],\n    template: `<div class=\"m2c-magento-product-grid-teasers-configurator | {{ class }}\">\n        <cc-component-adder class=\"cc-component-adder cc-component-adder--static\" v-show=\"!configuration.teasers.length\">\n            <button is=\"action-button\" class=\"action-button action-button--look_important action-button--type_icon-only | cc-component-adder__button | m2c-magento-product-grid-teasers-configurator__item-action-button\" @click=\"createNewTeaser( 0 )\">\n                <svg class=\"action-button__icon action-button__icon--size_100 | cc-component-adder__button-icon\">\n                    <use xlink:href=\"#icon_plus\"></use>\n                </svg>\n            </button>\n        </cc-component-adder>\n\n        <template v-for=\"item in configuration.teasers\">\n            <div class=\"m2c-magento-product-grid-teasers-configurator__item\" id=\"m2c-magento-pg-teaser-{{ $index }}\">\n                <cc-component-adder class=\"cc-component-adder cc-component-adder--first\">\n                    <button is=\"action-button\" class=\"action-button action-button--look_important action-button--type_icon-only | cc-component-adder__button | m2c-magento-product-grid-teasers-configurator__item-action-button\" @click=\"createNewTeaser( $index )\">\n                        <svg class=\"action-button__icon action-button__icon--size_100 | cc-component-adder__button-icon\">\n                            <use xlink:href=\"#icon_plus\"></use>\n                        </svg>\n                    </button>\n                </cc-component-adder>\n\n                <div class=\"m2c-magento-product-grid-teasers-configurator__item-content\">\n                    <div v-bind:class=\"[ 'm2c-magento-product-grid-teasers-configurator__item-col-left', configuration.teasers[$index].image ? 'm2c-magento-product-grid-teasers-configurator__item-col-left--look-image-uploaded' : '' ]\">\n                        <div class=\"m2c-magento-product-grid-teasers-configurator__item-image-wrapper\">\n                            <img :src=\"configuration.teasers[$index].image\" class=\"m2c-magento-product-grid-teasers-configurator__item-image\" v-show=\"configuration.teasers[$index].image\">\n                            <input type=\"hidden\" v-model=\"configuration.teasers[$index].image\">\n                            <input type=\"hidden\" class=\"m2c-magento-product-grid-teasers-configurator__image-url\" id=\"mpg-teaser-img-{{$index}}\">\n                            <svg class=\"m2c-magento-product-grid-teasers-configurator__item-image-placeholder\" v-show=\"!configuration.teasers[$index].image\">\n                                <use xlink:href=\"#icon_image-placeholder\"></use>\n                            </svg>\n\n                            <div class=\"m2c-magento-product-grid-teasers-configurator__item-actions\">\n                                <cc-component-actions>\n                                    <template slot=\"cc-component-actions__buttons\">\n                                        <button is=\"action-button\" class=\"action-button action-button--look_default action-button--type_icon-only | cc-component-actions__button cc-component-actions__button--up | m2c-magento-product-grid-teasers-configurator__item-action-button\" @click=\"moveHeroItemUp( $index )\" :class=\"[ isFirstTeaser( $index ) ? 'action-button--look_disabled' : '' ]\" :disabled=\"isFirstTeaser( $index )\">\n                                            <svg class=\"action-button__icon action-button__icon--size_100\">\n                                                <use xlink:href=\"#icon_arrow-up\"></use>\n                                            </svg>\n                                        </button>\n                                        <button is=\"action-button\" class=\"action-button action-button--look_default action-button--type_icon-only | cc-component-actions__button cc-component-actions__button--down | m2c-magento-product-grid-teasers-configurator__item-action-button\" @click=\"moveHeroItemDown( $index )\" :class=\"[ isLastTeaser( $index ) ? 'action-button--look_disabled' : '' ]\" :disabled=\"isLastTeaser( $index )\">\n                                            <svg class=\"action-button__icon action-button__icon--size_100\">\n                                                <use xlink:href=\"#icon_arrow-down\"></use>\n                                            </svg>\n                                        </button>\n                                        <button is=\"action-button\" class=\"action-button action-button--look_default action-button--type_icon | cc-component-actions__button cc-component-actions__button--upload-image | m2c-magento-product-grid-teasers-configurator__item-action-button\" @click=\"getImageUploader( $index )\">\n                                                <svg class=\"action-button__icon action-button__icon--size_100\">\n                                                    <use xlink:href=\"#icon_upload-image\"></use>\n                                                </svg>\n                                                {{ configuration.teasers[$index].image ? imageUploadedText : noImageUploadedText }}\n                                        </button>\n                                        <button is=\"action-button\" class=\"action-button action-button--look_default action-button--type_icon-only | cc-component-actions__button cc-component-actions__button--delete | m2c-magento-product-grid-teasers-configurator__item-action-button\" @click=\"deleteTeaser( $index )\">\n                                            <svg class=\"action-button__icon\">\n                                                <use xlink:href=\"#icon_trash-can\"></use>\n                                            </svg>\n                                        </button>\n                                    </template>\n                                </cc-component-actions>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"m2c-magento-product-grid-teasers-configurator__item-col-right\">\n                        <div class=\"m2-input m2-input--group m2-input--group-quarter\">\n                            <div class=\"m2-input | m2c-magento-product-grid-teasers-configurator__item-form-element\">\n                                <label for=\"cfg-mpg-teaser{{ $index }}-size-select\" class=\"m2-input__label\">${$t( 'Teaser size' )}:</label>\n                                <select name=\"cfg-mpg-teaser{{ $index }}-size-select\" class=\"m2-input__select | m2c-magento-product-grid-teasers-configurator__select\" id=\"cfg-mpg-teaser{{ $index }}-size-select\" v-model=\"configuration.teasers[$index].sizeSelect\" v-bind=\"{ 'style': 'background-image: url( ' + assetsSrc + 'images/dropdown-arrows-bg.svg ), linear-gradient( #e3e3e3, #e3e3e3 ), linear-gradient( #adadad, #adadad )' }\" @change=\"setTeaserSize($index)\">\n                                    <option value=\"1x1\">${$t( '1x1' )}</option>\n                                    <option value=\"1x2\">${$t( '1x2' )}</option>\n                                    <option value=\"2x1\">${$t( '2x1' )}</option>\n                                    <option value=\"2x2\">${$t( '2x2' )}</option>\n                                </select>\n                            </div>\n                            <div class=\"m2-input | m2c-magento-product-grid-teasers-configurator__item-form-element\">\n                                <label for=\"cfg-mpg-teaser{{ $index }}-position\" class=\"m2-input__label\">${$t( 'Position' )}:</label>\n                                <select name=\"cfg-mpg-teaser{{ $index }}-position\" class=\"m2-input__select | m2c-magento-product-grid-teasers-configurator__select\" id=\"cfg-mpg-teaser{{ $index }}-position\" v-model=\"configuration.teasers[$index].position\" v-bind=\"{ 'style': 'background-image: url( ' + assetsSrc + 'images/dropdown-arrows-bg.svg ), linear-gradient( #e3e3e3, #e3e3e3 ), linear-gradient( #adadad, #adadad )' }\">\n                                    <option value=\"left\">${$t( 'Left' )}</option>\n                                    <option value=\"center\">${$t( 'Center' )}</option>\n                                    <option value=\"right\">${$t( 'Right' )}</option>\n                                </select>\n                            </div>\n                            <div class=\"m2-input | m2c-magento-product-grid-teasers-configurator__item-form-element\">\n                                <label for=\"cfg-mpg-teaser{{ $index }}-row\" class=\"m2-input__label\">${$t( 'Row' )}:</label>\n                                <select name=\"cfg-mpg-teaser{{ $index }}-row\" class=\"m2-input__select | m2c-magento-product-grid-teasers-configurator__select\" id=\"cfg-mpg-teaser{{ $index }}-row\" v-model=\"configuration.teasers[$index].row\" v-bind=\"{ 'style': 'background-image: url( ' + assetsSrc + 'images/dropdown-arrows-bg.svg ), linear-gradient( #e3e3e3, #e3e3e3 ), linear-gradient( #adadad, #adadad )' }\">\n                                    <option v-for=\"i in rowsCount\" value=\"{{ i + 1 }}\">{{ i + 1 }}</option>\n                                    <option value=\"1000\">${$t( 'as last' )}</option>\n                                </select>\n                            </div>\n                            <div class=\"m2-input | m2c-magento-product-grid-teasers-configurator__item-form-element\">\n                                <label for=\"cfg-mpg-teaser{{ $index }}-mobile\" class=\"m2-input__label\">${$t( 'Show in mobiles' )}:</label>\n                                <div class=\"admin__actions-switch\" data-role=\"switcher\">\n                                    <input type=\"checkbox\" class=\"admin__actions-switch-checkbox\" id=\"cfg-mpg-teaser{{ $index }}-mobile\" name=\"cfg-mpg-teaser{{ $index }}-mobile\" v-model=\"configuration.teasers[$index].isAvailableForMobile\">\n                                    <label class=\"admin__actions-switch-label\" for=\"cfg-mpg-teaser{{ $index }}-mobile\"\">\n                                        <span class=\"admin__actions-switch-text\" data-text-on=\"${$t( 'Yes' )}\" data-text-off=\"${$t( 'No' )}\"></span>\n                                    </label>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"m2-input m2-input--group\">\n                            <div class=\"m2-input | m2c-magento-product-grid-teasers-configurator__item-form-element\">\n                                <label for=\"cfg-mpg-teaser{{ $index }}-variant\" class=\"m2-input__label\">${$t( 'Display variant' )}:</label>\n                                <select name=\"cfg-mpg-teaser{{ $index }}-variant\" class=\"m2-input__select | m2c-magento-product-grid-teasers-configurator__select\" id=\"cfg-mpg-teaser{{ $index }}-variant\" v-model=\"configuration.teasers[$index].displayVariant\" v-bind=\"{ 'style': 'background-image: url( ' + assetsSrc + 'images/dropdown-arrows-bg.svg ), linear-gradient( #e3e3e3, #e3e3e3 ), linear-gradient( #adadad, #adadad )' }\">\n                                    <option value=\"variant-1\">${$t( 'Text vertically centered on the left' )}</option>\n                                    <option value=\"variant-2\">${$t( 'Text vertically centered in the middle' )}</option>\n                                    <option value=\"variant-3\">${$t( 'Text on the bottom, left corner' )}</option>\n                                    <option value=\"variant-4\">${$t( 'Text on the bottom - centered' )}</option>\n                                </select>\n                            </div>\n                            <div class=\"m2-input | m2c-magento-product-grid-teasers-configurator__item-form-element\">\n                                <label for=\"cfg-mpg-teaser{{ $index }}-color-scheme\" class=\"m2-input__label\">${$t( 'Text color scheme' )}:</label>\n                                <select name=\"cfg-mpg-teaser{{ $index }}-color-scheme\" class=\"m2-input__select | m2c-magento-product-grid-teasers-configurator__select\" id=\"cfg-mpg-teaser{{ $index }}-color-scheme\" v-model=\"configuration.teasers[$index].colorScheme\" v-bind=\"{ 'style': 'background-image: url( ' + assetsSrc + 'images/dropdown-arrows-bg.svg ), linear-gradient( #e3e3e3, #e3e3e3 ), linear-gradient( #adadad, #adadad )' }\">\n                                    <option value=\"light\">${$t( 'Light' )}</option>\n                                    <option value=\"dark\">${$t( 'Dark' )}</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div class=\"m2-input | m2c-magento-product-grid-teasers-configurator__item-form-element\">\n                            <label for=\"cfg-mpg-teaser{{ $index }}-headline\" class=\"m2-input__label\">${$t( 'Headline' )}:</label>\n                            <input type=\"text\" v-model=\"configuration.teasers[$index].headline\" id=\"cfg-mpg-teaser{{ $index }}-headline\" class=\"m2-input__input\">\n                        </div>\n                        <div class=\"m2-input | m2c-magento-product-grid-teasers-configurator__item-form-element\">\n                            <label for=\"cfg-mpg-teaser{{ $index }}-subheadline\" class=\"m2-input__label\">${$t( 'Subheadline' )}:</label>\n                            <input type=\"text\" v-model=\"configuration.teasers[$index].subheadline\" id=\"cfg-mpg-teaser{{ $index }}-subheadline\" class=\"m2-input__input\">\n                        </div>\n                        <div class=\"m2-input | m2c-magento-product-grid-teasers-configurator__item-form-element\">\n                            <label for=\"cfg-mpg-teaser{{ $index }}-paragraph\" class=\"m2-input__label\">${$t( 'Paragraph' )}:</label>\n                            <textarea type=\"text\" v-model=\"configuration.teasers[$index].paragraph\" id=\"cfg-mpg-teaser{{ $index }}-paragraph\" class=\"m2-input__textarea\" placeholder=\"(${$t( 'max 200 characters' )})\" maxlength=\"200\"></textarea>\n                        </div>\n                        <div class=\"m2-input m2-input--group\">\n                            <div class=\"m2-input | m2c-magento-product-grid-teasers-configurator__item-form-element\">\n                                <label for=\"cfg-mpg-teaser{{ $index }}-cta-label\" class=\"m2-input__label\">${$t( 'CTA label' )}:</label>\n                                <input type=\"text\" v-model=\"configuration.teasers[$index].ctaLabel\" id=\"cfg-mpg-teaser{{ $index }}-cta-label\" class=\"m2-input__input\">\n                            </div>\n                            <div class=\"m2-input m2-input--type-addon | m2c-magento-product-grid-teasers-configurator__item-form-element\">\n                                <label for=\"teaser-ctatarget-output-{{ $index }}\" class=\"m2-input__label\">${$t( 'CTA target link' )}:</label>\n                                <input type=\"text\" class=\"m2-input__input | m2c-magento-product-grid-teasers-configurator__cta-target-link\" v-model=\"configuration.teasers[$index].href\" id=\"teaser-ctatarget-output-{{ $index }}\">\n                                <span class=\"m2-input__addon | m2c-magento-product-grid-teasers-configurator__widget-chooser-trigger\" @click=\"openCtaTargetModal( $index )\">\n                                    <svg class=\"m2-input__addon-icon\">\n                                        <use xlink:href=\"#icon_link\"></use>\n                                    </svg>\n                                </span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <cc-component-adder class=\"cc-component-adder cc-component-adder--last\">\n                    <button is=\"action-button\" class=\"action-button action-button--look_important action-button--type_icon-only | cc-component-adder__button | m2c-magento-product-grid-teasers-configurator__item-action-button\" @click=\"createNewTeaser( $index + 1 )\">\n                        <svg class=\"action-button__icon action-button__icon--size_100 | cc-component-adder__button-icon\">\n                            <use xlink:href=\"#icon_plus\"></use>\n                        </svg>\n                    </button>\n                </cc-component-adder>\n            </div>\n        </template>\n\n        <div class=\"m2c-magento-product-grid-teasers-configurator__modal\" v-el:error-modal></div>\n    </div>`,\n    props: {\n        /*\n         * Single's component configuration\n         */\n        configuration: {\n            type: Object,\n            default(): any {\n                return {\n                    teasers: [ JSON.parse( JSON.stringify( teaserDataPattern ) ) ],\n                    json: [],\n                };\n            },\n        },\n        /* get assets for displaying component images */\n        assetsSrc: {\n            type: String,\n            default: '',\n        },\n        /* Obtain base-url for the image uploader */\n        uploaderBaseUrl: {\n            type: String,\n            default: '',\n        },\n        /* Obtain image endpoint to place permanent url for uploaded images */\n        imageEndpoint: {\n            type: String,\n            default: '',\n        },\n        /* Obtain image endpoint to place permanent url for uploaded images */\n        ccConfig: {\n            type: Object,\n            default(): any {\n                return {};\n            },\n        },\n        productsPerPage: {\n            type: String,\n            default: '30',\n        },\n    },\n    data(): any {\n        return {\n            imageUploadedText: $t( 'Change' ),\n            noImageUploadedText: $t( 'Upload' ),\n            configuration: this.getInitialConfiguration(),\n            rowsCount: this.getCurrentFErowsCount(),\n        };\n    },\n    events: {\n        /**\n         * Listen on save event from Content Configurator component.\n         */\n        'cc-component-configurator__save'(): void {\n            this.cleanupConfiguration();\n            this.generateTeasersConfig();\n            this.onSave();\n        },\n    },\n    methods: {\n        getInitialConfiguration(): any {\n            if ( !this.configuration ) {\n                this.configuration = {\n                    teasers: [ JSON.parse( JSON.stringify( teaserDataPattern ) ) ],\n                };\n            }\n\n            return this.configuration;\n        },\n        /**\n         * Calculates \"virtual\" length of products in the grid\n         * \"virtual\" means that teasers are included and their sizes are calculated too\n         * f.e if teaser covers 2 tiles it counts as 2 brics, accordingly if it's 2x2 then it takes 4 bricks\n         * @return {number} number of available bricks in grid\n         */\n        getVirtualBricksLength(): number {\n            let virtualLength: number = parseInt( this.productsPerPage, 10 );\n\n            for ( let i: number = 0; i < this.configuration.teasers.length; i++ ) {\n                virtualLength += this.configuration.teasers[ i ].size.x * this.configuration.teasers[ i ].size.y - 1;\n            }\n\n            return virtualLength;\n        },\n        /**\n         * Calculates how many rows there's displayed if the grid on front-end\n         * Currently divider is hardcoded for desktop breakpoint\n         * @return {number} number of rows in FE grid\n         */\n        getCurrentFErowsCount(): number {\n            if ( this.ccConfig.columnsConfig.filterScenario === 'sidebar' ) {\n                return Math.ceil( this.getVirtualBricksLength() / this.ccConfig.columnsConfig.withSidebar.desktop );\n            }\n\n            return Math.ceil( this.getVirtualBricksLength() / this.ccConfig.columnsConfig.full.desktop );\n        },\n\n        /**\n         * When you open component after changes in M2 grid settings (when products per page chnaged)\n         * Or, after you delete some teasers - this method updates available rows count on FE side and checks if \n         * current row setting of the teaser is not higher than this.rowsCount.\n         * If yes, it changes row setting to be equal this.rowsCount\n         */\n        fixOverflowedRowsSetup(): void {\n            this.rowsCount = this.getCurrentFErowsCount();\n\n            for ( let i: number = 0; i < this.configuration.teasers.length; i++ ) {\n                if ( this.configuration.teasers[ i ].row > this.rowsCount ) {\n                    this.configuration.teasers[ i ].row = this.rowsCount;\n                }\n            }\n        },\n        /* Opens M2's built-in image manager modal\n         * Manages all images: image upload from hdd, select image that was already uploaded to server\n         * @param index {number} - index of image of hero item\n         */\n        getImageUploader( index: number ): void {\n            MediabrowserUtility.openDialog( `${this.uploaderBaseUrl}target_element_id/mpg-teaser-img-${index}/`,\n                'auto',\n                'auto',\n                $t( 'Insert File...' ),\n                {\n                    closed: true,\n                },\n            );\n        },\n\n        /* Listener for image uploader\n         * Since Magento does not provide any callback after image has been chosen\n         * we have to watch for target where decoded url is placed\n         */\n        imageUploadListener(): void {\n            const component: any = this;\n            let isAlreadyCalled: boolean = false;\n\n            // jQuery has to be used, for some reason native addEventListener doesn't catch change of input's value\n            $( document ).on( 'change', '.m2c-magento-product-grid-teasers-configurator__image-url', ( event: Event ): void => {\n                if ( !isAlreadyCalled ) {\n                    isAlreadyCalled = true;\n                    component.onImageUploaded( event.target );\n                    setTimeout( (): void => {\n                        isAlreadyCalled = false;\n                    }, 100 );\n                }\n            } );\n        },\n        /* Action after image was uploaded\n         * URL is encoded, so strip it and decode Base64 to get {{ media url=\"...\"}} format\n         * which will go to the items.image and will be used to display image on front end\n         * @param input { object } - input with raw image path which is used in admin panel\n         */\n        onImageUploaded( input: any ): void {\n            const _this: any = this;\n            const itemIndex: any = input.id.substr( input.id.length - 1 );\n            const encodedImage: any = input.value.match( '___directive\\/([a-zA-Z0-9]*)' )[ 1 ];\n            const imgEndpoint: string = this.imageEndpoint.replace( '{/encoded_image}', encodedImage );\n\n            this.configuration.teasers[ itemIndex ].decodedImage = Base64 ? Base64.decode( encodedImage ) : window.atob( encodedImage );\n\n            const img: any = new Image();\n            img.onload = function(): void {\n                _this.configuration.teasers[ itemIndex ].image = img.getAttribute( 'src' );\n                _this.onChange();\n            };\n            img.src = imgEndpoint;\n        },\n        /* Opens modal with M2 built-in widget chooser\n         * @param index {number} - index of teaser item to know where to place output of widget chooser\n         */\n        openCtaTargetModal( index: number ): void {\n            widgetTools.openDialog( `${window.location.origin}/admin/admin/widget/index/filter_widgets/Link/widget_target_id/teaser-ctatarget-output-${index}` );\n            this.wWidgetListener( index );\n        },\n        /* Sets listener for widget chooser\n         * It triggers component.onChange to update component's configuration\n         * after value of item.href is changed\n         */\n        widgetSetListener(): void {\n            const component: any = this;\n\n            $( '.m2c-magento-product-grid-teasers-configurator__cta-target-link' ).on( 'change', (): void => {\n                component.onChange();\n            } );\n        },\n        /*\n         * Check if widget chooser is loaded. If not, wait for it, if yes:\n         * Override default onClick for \"Insert Widget\" button in widget's modal window\n         * to clear input's value before inserting new one\n         * @param {number} index Hero item's index in array.\n         */\n        wWidgetListener( itemIndex: number ): void {\n            if ( typeof wWidget !== 'undefined' && widgetTools.dialogWindow[ 0 ].innerHTML !== '' ) {\n                const _this: any = this;\n                const button: any = widgetTools.dialogWindow[ 0 ].querySelector( '#insert_button' );\n\n                button.onclick = null;\n                button.addEventListener( 'click', function(): void {\n                    _this.configuration.teasers[ itemIndex ].href = '';\n                    wWidget.insertWidget();\n                } );\n            } else {\n                window.setTimeout( (): void => {\n                    this.wWidgetListener( itemIndex );\n                }, 300 );\n            }\n        },\n        setTeaserSize( index: number ) {\n            this.fixOverflowedRowsSetup();\n\n            const size: any = this.configuration.teasers[ index ].sizeSelect.split( 'x' );\n            this.configuration.teasers[ index ].size.x = size[ 0 ];\n            this.configuration.teasers[ index ].size.y = size[ 1 ];\n        },\n        /**\n         * Creates new hero item and adds it to a specified index.\n         * @param {number} index New component's index in components array.\n         */\n        createNewTeaser( index: number ): void {\n            this.configuration.teasers.splice( index, 0, JSON.parse( JSON.stringify( teaserDataPattern ) ) );\n            this.rowsCount = this.getCurrentFErowsCount();\n            this.onChange();\n        },\n        /**\n         * Moves hero item under given index up by swaping it with previous element.\n         * @param {number} index Hero item's index in array.\n         */\n        moveTeaserUp( index: number ): void {\n            const _this: any = this;\n\n            if ( index > 0 ) {\n                const $thisItem: any = $( `#m2c-magento-pg-teaser-${ index }` );\n                const $prevItem: any = $( `#m2c-magento-pg-teaser-${ index - 1 }` );\n\n                $thisItem.addClass( 'm2c-magento-product-grid-teasers-configurator__item--animating' ).css( 'transform', `translateY( ${ -Math.abs( $prevItem.outerHeight( true ) ) }px )` );\n                $prevItem.addClass( 'm2c-magento-product-grid-teasers-configurator__item--animating' ).css( 'transform', `translateY( ${ $thisItem.outerHeight( true ) }px )` );\n\n                setTimeout( (): void => {\n                    _this.configuration.teasers.splice( index - 1, 0, _this.configuration.teasers.splice( index, 1 )[ 0 ] );\n                    _this.onChange();\n                    $thisItem.removeClass( 'm2c-magento-product-grid-teasers-configurator__item--animating' ).css( 'transform', '' );\n                    $prevItem.removeClass( 'm2c-magento-product-grid-teasers-configurator__item--animating' ).css( 'transform', '' );\n                }, 400 );\n            }\n        },\n        /**\n         * Moves hero item under given index down by swaping it with next element.\n         * @param {number} index Hero item's index in array.\n         */\n        moveTeaserDown( index: number ): void {\n            const _this: any = this;\n\n            if ( index < this.configuration.teasers.length - 1 ) {\n                const $thisItem: any = $( `#m2c-magento-pg-teaser-${ index }` );\n                const $nextItem: any = $( `#m2c-magento-pg-teaser-${ index + 1 }` );\n\n                $thisItem.addClass( 'm2c-magento-product-grid-teasers-configurator__item--animating' ).css( 'transform', `translateY( ${ $nextItem.outerHeight( true ) }px )` );\n                $nextItem.addClass( 'm2c-magento-product-grid-teasers-configurator__item--animating' ).css( 'transform', `translateY( ${ -Math.abs( $thisItem.outerHeight( true ) ) }px )` );\n\n                setTimeout( (): void => {\n                    _this.configuration.teasers.splice( index + 1, 0, _this.configuration.teasers.splice( index, 1 )[ 0 ] );\n                    _this.onChange();\n                    $thisItem.removeClass( 'm2c-magento-product-grid-teasers-configurator__item--animating' ).css( 'transform', '' );\n                    $nextItem.removeClass( 'm2c-magento-product-grid-teasers-configurator__item--animating' ).css( 'transform', '' );\n                }, 400 );\n            }\n        },\n        /**\n         * Tells if item with given index is the first hero item.\n         * @param  {number}  index Index of the hero item.\n         * @return {boolean}       If hero item is first in array.\n         */\n        isFirstTeaser( index: number ): boolean {\n            return index === 0;\n        },\n        /**\n         * Tells if hero item with given index is the last hero item.\n         * @param  {number}  index Index of the hero item.\n         * @return {boolean}       If hero item is last in array.\n         */\n        isLastTeaser( index: number ): boolean {\n            return index === this.configuration.teasers.length - 1;\n        },\n        /* Removes hero item after Delete button is clicked\n         * and triggers hero item's onChange to update it's configuration\n         * @param index {number} - index of hero item to remove\n         */\n        deleteTeaser( index: number ): void {\n            const component: any = this;\n\n            confirm( {\n                content: $t( 'Are you sure you want to delete this item?' ),\n                actions: {\n                    confirm(): void {\n                        component.configuration.teasers.splice( index, 1 );\n                        component.fixOverflowedRowsSetup();\n                        component.onChange();\n                    },\n                },\n            } );\n        },\n        /* Cleans configuration for M2C content constructor after Saving component\n         * All empty teasers have to be removed to not get into configuration object\n         */\n        cleanupConfiguration(): void {\n            const filteredArray: any = this.configuration.teasers.filter( ( teaser: any ): any => teaser.image !== '' );\n            this.configuration.teasers = filteredArray;\n            this.onChange();\n        },\n        /* Generates 1:1 JSON for grid-layout component so it can be simply passed without any modifications within templates\n         */\n        generateTeasersConfig(): void {\n            this.configuration.json = [];\n\n            for ( let i: number = 0; i < this.configuration.teasers.length; i++ ) {\n                const teaser: any = {\n                    id: i + 1,\n                    mobile: Number( this.configuration.teasers[ i ].isAvailableForMobile ),\n                    size: {\n                        x: Number( this.configuration.teasers[ i ].size.x ),\n                        y: Number( this.configuration.teasers[ i ].size.y ),\n                    },\n                    gridPosition: {\n                        x: this.configuration.teasers[ i ].position,\n                        y: Number( this.configuration.teasers[ i ].row ),\n                    },\n                };\n\n                this.configuration.json.push( teaser );\n            }\n        },\n    },\n    ready(): void {\n        this.imageUploadListener();\n        this.widgetSetListener();\n        this.fixOverflowedRowsSetup();\n    },\n};\n\nexport default m2cMagentoProductGridTeasersConfigurator;\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;;;;AAKA,IAAM,uBAAuB,GAA0B;IACnD,KAAK,EAAE;;;;QAIH,KAAK,EAAE;YACH,IAAI,EAAE,CAAE,MAAM,EAAE,MAAM,EAAE,KAAK,CAAE;YAC/B,OAAO,EAAE,EAAE;SACd;;;;;QAKD,IAAI,EAAE;YACF,IAAI,EAAE,QAAQ;YACd,OAAO,EAAE,cAAgB,OAAA,cAAiB,OAAA,SAAS,GAAA,GAAA;SACtD;;;;;QAKD,MAAM,EAAE;YACJ,IAAI,EAAE,QAAQ;YACd,OAAO,EAAE,cAAgB,OAAA,cAAiB,OAAA,SAAS,GAAA,GAAA;SACtD;;;;QAID,aAAa,EAAE;YACX,IAAI,EAAE,MAAM;YACZ,OAAO,iBAAU;SACpB;KACJ;IACD,OAAO,EAAE;QACL,QAAQ,YAAE,KAAa;;YAEnB,IAAM,IAAI,GAAQ,IAAI,CAAC,KAAK,CAAE,IAAI,CAAC,SAAS,CAAE,IAAI,CAAC,aAAa,CAAE,CAAE,CAAC;;YAErE,IAAI,CAAC,SAAS,CAAE,oCAAoC,EAAE,IAAI,CAAE,CAAC;YAC7D,IAAI,CAAC,MAAM,CAAE,IAAI,CAAE,CAAC;SACvB;QACD,MAAM,YAAE,KAAa;;YAEjB,IAAM,IAAI,GAAQ,IAAI,CAAC,KAAK,CAAE,IAAI,CAAC,SAAS,CAAE,IAAI,CAAC,aAAa,CAAE,CAAE,CAAC;;YAErE,IAAI,CAAC,SAAS,CAAE,kCAAkC,EAAE,IAAI,CAAE,CAAC;YAC3D,IAAI,CAAC,IAAI,CAAE,IAAI,CAAE,CAAC;SACrB;KACJ;IACD,MAAM,EAAE;;;;QAIJ,iCAAiC;YAC7B,IAAK,IAAI,CAAC,OAAO,CAAC,iCAAiC,CAAC,CAAC,MAAM,KAAK,CAAE,EAAE;gBAChE,IAAI,CAAC,MAAM,EAAE,CAAC;aACjB;SACJ;KACJ;CACJ,CAAC,AAEF,AACA;;ACnEA;;;;;;AAMA,IAAM,YAAY,GAA0B;IACxC,QAAQ,EAAE,wGAEA;IACV,KAAK,EAAE;;;;QAIH,KAAK,EAAE;YACH,IAAI,EAAE,CAAE,MAAM,EAAE,MAAM,EAAE,KAAK,CAAE;YAC/B,OAAO,EAAE,EAAE;SACd;KACJ;IACD,OAAO,EAAE;;;;;;QAML,QAAQ,YAAE,KAAY;YAClB,IAAI,CAAC,SAAS,CAAE,sBAAsB,EAAE,KAAK,CAAE,CAAC;SACnD;KACJ;CACJ,CAAC,AAEF;;AC/BA;;;;;;;;;;;AAWA,IAAM,gBAAgB,GAA0B;IAC5C,QAAQ,EAAE,6MAID;IACT,KAAK,EAAE;;;;QAIH,KAAK,EAAE;YACH,IAAI,EAAE,MAAM;YACZ,OAAO,EAAE,EAAE;YACX,MAAM,EAAE,UAAE,KAAa,IAAc,OAAA,KAAK,CAAC,OAAO,CAAE,sBAAsB,EAAE,EAAE,CAAE,GAAA;SACnF;KACJ;CACJ,CAAC,AAEF;;AC7BA;;;;;AAMA,IAAM,cAAc,GAA0B;IAC1C,QAAQ,EAAE,8PAKH;IACP,KAAK,EAAE;;;;QAIH,KAAK,EAAE;YACH,IAAI,EAAE,MAAM;YACZ,OAAO,EAAE,EAAE;YACX,MAAM,YAAE,KAAa;gBACjB,OAAO,KAAK,CAAC,OAAO,CAAE,oBAAoB,EAAE,EAAE,CAAE,CAAC;aACpD;SACJ;;;;QAID,eAAe,EAAE;YACb,IAAI,EAAE,QAAQ;SACjB;KACJ;IACD,OAAO,EAAE;;;;;;QAML,iBAAiB,YAAE,KAAY;YAC3B,IAAI,CAAC,SAAS,CAAE,sCAAsC,EAAE,KAAK,CAAE,CAAC;YAChE,IAAK,OAAO,IAAI,CAAC,eAAe,KAAK,UAAW,EAAE;gBAC9C,IAAI,CAAC,eAAe,CAAE,KAAK,CAAE,CAAC;aACjC;SACJ;KACJ;CACJ,CAAC,AAEF;;AC9CA;;;AAGA,IAAM,oBAAoB,GAAQ;IAC9B,QAAQ,EAAE,4JAIH;CACV,CAAC,AAEF;;ACJA;;;;;AAKA,IAAM,uCAAuC,GAA0B;IACnE,MAAM,EAAE;QACJ,uBAAuB;KAC1B;IACD,QAAQ,EAAE,m6MAiFP;;;;IAIH,UAAU,EAAE;QACR,eAAe,EAAE,YAAY;QAC7B,oBAAoB,EAAE,cAAc;QACpC,sBAAsB,EAAE,gBAAgB;QACxC,0BAA0B,EAAE,oBAAoB;KACnD;IACD,KAAK,EAAE;;;;QAIH,KAAK,EAAE;YACH,IAAI,EAAE,CAAE,MAAM,EAAE,MAAM,EAAE,KAAK,CAAE;YAC/B,OAAO,EAAE,EAAE;SACd;;;;QAID,aAAa,EAAE;YACX,IAAI,EAAE,MAAM;YACZ,OAAO;gBACH,OAAO;oBACH,OAAO,EAAE,EAAE;iBACd,CAAC;aACL;SACJ;KACJ;CACJ,CAAC,AAEF;;AC1HA;AACA,IAAM,iBAAiB,GAAQ;IAC3B,UAAU,EAAE,KAAK;IACjB,IAAI,EAAE;QACF,CAAC,EAAE,CAAC;QACJ,CAAC,EAAE,CAAC;KACP;IACD,QAAQ,EAAE,MAAM;IAChB,GAAG,EAAE,CAAC;IACN,oBAAoB,EAAE,CAAC;IACvB,KAAK,EAAE,EAAE;IACT,YAAY,EAAE,EAAE;IAChB,cAAc,EAAE,WAAW;IAC3B,WAAW,EAAE,OAAO;IACpB,QAAQ,EAAE,EAAE;IACZ,WAAW,EAAE,EAAE;IACf,SAAS,EAAE,EAAE;IACb,QAAQ,EAAE,EAAE,CAAE,aAAa,CAAE;IAC7B,IAAI,EAAE,EAAE;CACX,CAAC;;;;;;AAOF,IAAM,wCAAwC,GAA0B;IACpE,MAAM,EAAE;QACJ,uCAAuC;KAC1C;IACD,QAAQ,EAAE,00MA6DgG,EAAE,CAAE,aAAa,CAAE,2iBAEvE,EAAE,CAAE,KAAK,CAAE,6EACX,EAAE,CAAE,KAAK,CAAE,6EACX,EAAE,CAAE,KAAK,CAAE,6EACX,EAAE,CAAE,KAAK,CAAE,wUAIsC,EAAE,CAAE,UAAU,CAAE,kgBAEhE,EAAE,CAAE,MAAM,CAAE,gFACV,EAAE,CAAE,QAAQ,CAAE,+EACf,EAAE,CAAE,OAAO,CAAE,mUAI6B,EAAE,CAAE,KAAK,CAAE,omBAGtD,EAAE,CAAE,SAAS,CAAE,sUAI+B,EAAE,CAAE,iBAAiB,CAAE,6kBAI/B,EAAE,CAAE,KAAK,CAAE,2BAAoB,EAAE,CAAE,IAAI,CAAE,qdAOhC,EAAE,CAAE,iBAAiB,CAAE,2gBAEjE,EAAE,CAAE,sCAAsC,CAAE,mFAC5C,EAAE,CAAE,wCAAwC,CAAE,mFAC9C,EAAE,CAAE,iCAAiC,CAAE,mFACvC,EAAE,CAAE,+BAA+B,CAAE,4UAIU,EAAE,CAAE,mBAAmB,CAAE,8gBAE5E,EAAE,CAAE,OAAO,CAAE,8EACd,EAAE,CAAE,MAAM,CAAE,gWAKgC,EAAE,CAAE,UAAU,CAAE,+bAIb,EAAE,CAAE,aAAa,CAAE,mcAIrB,EAAE,CAAE,WAAW,CAAE,mNACgE,EAAE,CAAE,oBAAoB,CAAE,oXAIvG,EAAE,CAAE,WAAW,CAAE,meAIjB,EAAE,CAAE,iBAAiB,CAAE,okDAuBxH;IACP,KAAK,EAAE;;;;QAIH,aAAa,EAAE;YACX,IAAI,EAAE,MAAM;YACZ,OAAO;gBACH,OAAO;oBACH,OAAO,EAAE,CAAE,IAAI,CAAC,KAAK,CAAE,IAAI,CAAC,SAAS,CAAE,iBAAiB,CAAE,CAAE,CAAE;oBAC9D,IAAI,EAAE,EAAE;iBACX,CAAC;aACL;SACJ;;QAED,SAAS,EAAE;YACP,IAAI,EAAE,MAAM;YACZ,OAAO,EAAE,EAAE;SACd;;QAED,eAAe,EAAE;YACb,IAAI,EAAE,MAAM;YACZ,OAAO,EAAE,EAAE;SACd;;QAED,aAAa,EAAE;YACX,IAAI,EAAE,MAAM;YACZ,OAAO,EAAE,EAAE;SACd;;QAED,QAAQ,EAAE;YACN,IAAI,EAAE,MAAM;YACZ,OAAO;gBACH,OAAO,EAAE,CAAC;aACb;SACJ;QACD,eAAe,EAAE;YACb,IAAI,EAAE,MAAM;YACZ,OAAO,EAAE,IAAI;SAChB;KACJ;IACD,IAAI;QACA,OAAO;YACH,iBAAiB,EAAE,EAAE,CAAE,QAAQ,CAAE;YACjC,mBAAmB,EAAE,EAAE,CAAE,QAAQ,CAAE;YACnC,aAAa,EAAE,IAAI,CAAC,uBAAuB,EAAE;YAC7C,SAAS,EAAE,IAAI,CAAC,qBAAqB,EAAE;SAC1C,CAAC;KACL;IACD,MAAM,EAAE;;;;QAIJ,iCAAiC;YAC7B,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAC5B,IAAI,CAAC,qBAAqB,EAAE,CAAC;YAC7B,IAAI,CAAC,MAAM,EAAE,CAAC;SACjB;KACJ;IACD,OAAO,EAAE;QACL,uBAAuB;YACnB,IAAK,CAAC,IAAI,CAAC,aAAc,EAAE;gBACvB,IAAI,CAAC,aAAa,GAAG;oBACjB,OAAO,EAAE,CAAE,IAAI,CAAC,KAAK,CAAE,IAAI,CAAC,SAAS,CAAE,iBAAiB,CAAE,CAAE,CAAE;iBACjE,CAAC;aACL;YAED,OAAO,IAAI,CAAC,aAAa,CAAC;SAC7B;;;;;;;QAOD,sBAAsB;YAClB,IAAI,aAAa,GAAW,QAAQ,CAAE,IAAI,CAAC,eAAe,EAAE,EAAE,CAAE,CAAC;YAEjE,KAAM,IAAI,CAAC,GAAW,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAG;gBAClE,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAE,CAAC,CAAE,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAE,CAAC,CAAE,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;aACxG;YAED,OAAO,aAAa,CAAC;SACxB;;;;;;QAMD,qBAAqB;YACjB,IAAK,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,cAAc,KAAK,SAAU,EAAE;gBAC5D,OAAO,IAAI,CAAC,IAAI,CAAE,IAAI,CAAC,sBAAsB,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,WAAW,CAAC,OAAO,CAAE,CAAC;aACvG;YAED,OAAO,IAAI,CAAC,IAAI,CAAE,IAAI,CAAC,sBAAsB,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAE,CAAC;SAChG;;;;;;;QAQD,sBAAsB;YAClB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,qBAAqB,EAAE,CAAC;YAE9C,KAAM,IAAI,CAAC,GAAW,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAG;gBAClE,IAAK,IAAI,CAAC,aAAa,CAAC,OAAO,CAAE,CAAC,CAAE,CAAC,GAAG,GAAG,IAAI,CAAC,SAAU,EAAE;oBACxD,IAAI,CAAC,aAAa,CAAC,OAAO,CAAE,CAAC,CAAE,CAAC,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC;iBACxD;aACJ;SACJ;;;;;QAKD,gBAAgB,YAAE,KAAa;YAC3B,mBAAmB,CAAC,UAAU,CAAK,IAAI,CAAC,eAAe,yCAAoC,KAAK,MAAG,EAC/F,MAAM,EACN,MAAM,EACN,EAAE,CAAE,gBAAgB,CAAE,EACtB;gBACI,MAAM,EAAE,IAAI;aACf,CACJ,CAAC;SACL;;;;;QAMD,mBAAmB;YACf,IAAM,SAAS,GAAQ,IAAI,CAAC;YAC5B,IAAI,eAAe,GAAY,KAAK,CAAC;;YAGrC,CAAC,CAAE,QAAQ,CAAE,CAAC,EAAE,CAAE,QAAQ,EAAE,2DAA2D,EAAE,UAAE,KAAY;gBACnG,IAAK,CAAC,eAAgB,EAAE;oBACpB,eAAe,GAAG,IAAI,CAAC;oBACvB,SAAS,CAAC,eAAe,CAAE,KAAK,CAAC,MAAM,CAAE,CAAC;oBAC1C,UAAU,CAAE;wBACR,eAAe,GAAG,KAAK,CAAC;qBAC3B,EAAE,GAAG,CAAE,CAAC;iBACZ;aACJ,CAAE,CAAC;SACP;;;;;;QAMD,eAAe,YAAE,KAAU;YACvB,IAAM,KAAK,GAAQ,IAAI,CAAC;YACxB,IAAM,SAAS,GAAQ,KAAK,CAAC,EAAE,CAAC,MAAM,CAAE,KAAK,CAAC,EAAE,CAAC,MAAM,GAAG,CAAC,CAAE,CAAC;YAC9D,IAAM,YAAY,GAAQ,KAAK,CAAC,KAAK,CAAC,KAAK,CAAE,8BAA8B,CAAE,CAAE,CAAC,CAAE,CAAC;YACnF,IAAM,WAAW,GAAW,IAAI,CAAC,aAAa,CAAC,OAAO,CAAE,kBAAkB,EAAE,YAAY,CAAE,CAAC;YAE3F,IAAI,CAAC,aAAa,CAAC,OAAO,CAAE,SAAS,CAAE,CAAC,YAAY,GAAG,MAAM,GAAG,MAAM,CAAC,MAAM,CAAE,YAAY,CAAE,GAAG,MAAM,CAAC,IAAI,CAAE,YAAY,CAAE,CAAC;YAE5H,IAAM,GAAG,GAAQ,IAAI,KAAK,EAAE,CAAC;YAC7B,GAAG,CAAC,MAAM,GAAG;gBACT,KAAK,CAAC,aAAa,CAAC,OAAO,CAAE,SAAS,CAAE,CAAC,KAAK,GAAG,GAAG,CAAC,YAAY,CAAE,KAAK,CAAE,CAAC;gBAC3E,KAAK,CAAC,QAAQ,EAAE,CAAC;aACpB,CAAC;YACF,GAAG,CAAC,GAAG,GAAG,WAAW,CAAC;SACzB;;;;QAID,kBAAkB,YAAE,KAAa;YAC7B,WAAW,CAAC,UAAU,CAAK,MAAM,CAAC,QAAQ,CAAC,MAAM,+FAA0F,KAAO,CAAE,CAAC;YACrJ,IAAI,CAAC,eAAe,CAAE,KAAK,CAAE,CAAC;SACjC;;;;;QAKD,iBAAiB;YACb,IAAM,SAAS,GAAQ,IAAI,CAAC;YAE5B,CAAC,CAAE,iEAAiE,CAAE,CAAC,EAAE,CAAE,QAAQ,EAAE;gBACjF,SAAS,CAAC,QAAQ,EAAE,CAAC;aACxB,CAAE,CAAC;SACP;;;;;;;QAOD,eAAe,YAAE,SAAiB;YAAlC,iBAeC;YAdG,IAAK,OAAO,OAAO,KAAK,WAAW,IAAI,WAAW,CAAC,YAAY,CAAE,CAAC,CAAE,CAAC,SAAS,KAAK,EAAG,EAAE;gBACpF,IAAM,OAAK,GAAQ,IAAI,CAAC;gBACxB,IAAM,MAAM,GAAQ,WAAW,CAAC,YAAY,CAAE,CAAC,CAAE,CAAC,aAAa,CAAE,gBAAgB,CAAE,CAAC;gBAEpF,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC;gBACtB,MAAM,CAAC,gBAAgB,CAAE,OAAO,EAAE;oBAC9B,OAAK,CAAC,aAAa,CAAC,OAAO,CAAE,SAAS,CAAE,CAAC,IAAI,GAAG,EAAE,CAAC;oBACnD,OAAO,CAAC,YAAY,EAAE,CAAC;iBAC1B,CAAE,CAAC;aACP;iBAAM;gBACH,MAAM,CAAC,UAAU,CAAE;oBACf,KAAI,CAAC,eAAe,CAAE,SAAS,CAAE,CAAC;iBACrC,EAAE,GAAG,CAAE,CAAC;aACZ;SACJ;QACD,aAAa,YAAE,KAAa;YACxB,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAE9B,IAAM,IAAI,GAAQ,IAAI,CAAC,aAAa,CAAC,OAAO,CAAE,KAAK,CAAE,CAAC,UAAU,CAAC,KAAK,CAAE,GAAG,CAAE,CAAC;YAC9E,IAAI,CAAC,aAAa,CAAC,OAAO,CAAE,KAAK,CAAE,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAE,CAAC,CAAE,CAAC;YACvD,IAAI,CAAC,aAAa,CAAC,OAAO,CAAE,KAAK,CAAE,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAE,CAAC,CAAE,CAAC;SAC1D;;;;;QAKD,eAAe,YAAE,KAAa;YAC1B,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,CAAE,KAAK,EAAE,CAAC,EAAE,IAAI,CAAC,KAAK,CAAE,IAAI,CAAC,SAAS,CAAE,iBAAiB,CAAE,CAAE,CAAE,CAAC;YACjG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,qBAAqB,EAAE,CAAC;YAC9C,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;;;;;QAKD,YAAY,YAAE,KAAa;YACvB,IAAM,KAAK,GAAQ,IAAI,CAAC;YAExB,IAAK,KAAK,GAAG,CAAE,EAAE;gBACb,IAAM,WAAS,GAAQ,CAAC,CAAE,4BAA2B,KAAQ,CAAE,CAAC;gBAChE,IAAM,WAAS,GAAQ,CAAC,CAAE,6BAA2B,KAAK,GAAG,CAAC,CAAG,CAAE,CAAC;gBAEpE,WAAS,CAAC,QAAQ,CAAE,gEAAgE,CAAE,CAAC,GAAG,CAAE,WAAW,EAAE,iBAAgB,CAAC,IAAI,CAAC,GAAG,CAAE,WAAS,CAAC,WAAW,CAAE,IAAI,CAAE,CAAE,SAAO,CAAE,CAAC;gBAC7K,WAAS,CAAC,QAAQ,CAAE,gEAAgE,CAAE,CAAC,GAAG,CAAE,WAAW,EAAE,iBAAgB,WAAS,CAAC,WAAW,CAAE,IAAI,CAAE,SAAO,CAAE,CAAC;gBAEhK,UAAU,CAAE;oBACR,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,CAAE,KAAK,GAAG,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,CAAE,KAAK,EAAE,CAAC,CAAE,CAAE,CAAC,CAAE,CAAE,CAAC;oBACxG,KAAK,CAAC,QAAQ,EAAE,CAAC;oBACjB,WAAS,CAAC,WAAW,CAAE,gEAAgE,CAAE,CAAC,GAAG,CAAE,WAAW,EAAE,EAAE,CAAE,CAAC;oBACjH,WAAS,CAAC,WAAW,CAAE,gEAAgE,CAAE,CAAC,GAAG,CAAE,WAAW,EAAE,EAAE,CAAE,CAAC;iBACpH,EAAE,GAAG,CAAE,CAAC;aACZ;SACJ;;;;;QAKD,cAAc,YAAE,KAAa;YACzB,IAAM,KAAK,GAAQ,IAAI,CAAC;YAExB,IAAK,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,GAAG,CAAE,EAAE;gBACjD,IAAM,WAAS,GAAQ,CAAC,CAAE,4BAA2B,KAAQ,CAAE,CAAC;gBAChE,IAAM,WAAS,GAAQ,CAAC,CAAE,6BAA2B,KAAK,GAAG,CAAC,CAAG,CAAE,CAAC;gBAEpE,WAAS,CAAC,QAAQ,CAAE,gEAAgE,CAAE,CAAC,GAAG,CAAE,WAAW,EAAE,iBAAgB,WAAS,CAAC,WAAW,CAAE,IAAI,CAAE,SAAO,CAAE,CAAC;gBAChK,WAAS,CAAC,QAAQ,CAAE,gEAAgE,CAAE,CAAC,GAAG,CAAE,WAAW,EAAE,iBAAgB,CAAC,IAAI,CAAC,GAAG,CAAE,WAAS,CAAC,WAAW,CAAE,IAAI,CAAE,CAAE,SAAO,CAAE,CAAC;gBAE7K,UAAU,CAAE;oBACR,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,CAAE,KAAK,GAAG,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,CAAE,KAAK,EAAE,CAAC,CAAE,CAAE,CAAC,CAAE,CAAE,CAAC;oBACxG,KAAK,CAAC,QAAQ,EAAE,CAAC;oBACjB,WAAS,CAAC,WAAW,CAAE,gEAAgE,CAAE,CAAC,GAAG,CAAE,WAAW,EAAE,EAAE,CAAE,CAAC;oBACjH,WAAS,CAAC,WAAW,CAAE,gEAAgE,CAAE,CAAC,GAAG,CAAE,WAAW,EAAE,EAAE,CAAE,CAAC;iBACpH,EAAE,GAAG,CAAE,CAAC;aACZ;SACJ;;;;;;QAMD,aAAa,YAAE,KAAa;YACxB,OAAO,KAAK,KAAK,CAAC,CAAC;SACtB;;;;;;QAMD,YAAY,YAAE,KAAa;YACvB,OAAO,KAAK,KAAK,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC;SAC1D;;;;;QAKD,YAAY,YAAE,KAAa;YACvB,IAAM,SAAS,GAAQ,IAAI,CAAC;YAE5B,OAAO,CAAE;gBACL,OAAO,EAAE,EAAE,CAAE,4CAA4C,CAAE;gBAC3D,OAAO,EAAE;oBACL,OAAO;wBACH,SAAS,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,CAAE,KAAK,EAAE,CAAC,CAAE,CAAC;wBACnD,SAAS,CAAC,sBAAsB,EAAE,CAAC;wBACnC,SAAS,CAAC,QAAQ,EAAE,CAAC;qBACxB;iBACJ;aACJ,CAAE,CAAC;SACP;;;;QAID,oBAAoB;YAChB,IAAM,aAAa,GAAQ,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,CAAE,UAAE,MAAW,IAAW,OAAA,MAAM,CAAC,KAAK,KAAK,EAAE,GAAA,CAAE,CAAC;YAC5G,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,aAAa,CAAC;YAC3C,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;;;QAGD,qBAAqB;YACjB,IAAI,CAAC,aAAa,CAAC,IAAI,GAAG,EAAE,CAAC;YAE7B,KAAM,IAAI,CAAC,GAAW,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAG;gBAClE,IAAM,MAAM,GAAQ;oBAChB,EAAE,EAAE,CAAC,GAAG,CAAC;oBACT,MAAM,EAAE,MAAM,CAAE,IAAI,CAAC,aAAa,CAAC,OAAO,CAAE,CAAC,CAAE,CAAC,oBAAoB,CAAE;oBACtE,IAAI,EAAE;wBACF,CAAC,EAAE,MAAM,CAAE,IAAI,CAAC,aAAa,CAAC,OAAO,CAAE,CAAC,CAAE,CAAC,IAAI,CAAC,CAAC,CAAE;wBACnD,CAAC,EAAE,MAAM,CAAE,IAAI,CAAC,aAAa,CAAC,OAAO,CAAE,CAAC,CAAE,CAAC,IAAI,CAAC,CAAC,CAAE;qBACtD;oBACD,YAAY,EAAE;wBACV,CAAC,EAAE,IAAI,CAAC,aAAa,CAAC,OAAO,CAAE,CAAC,CAAE,CAAC,QAAQ;wBAC3C,CAAC,EAAE,MAAM,CAAE,IAAI,CAAC,aAAa,CAAC,OAAO,CAAE,CAAC,CAAE,CAAC,GAAG,CAAE;qBACnD;iBACJ,CAAC;gBAEF,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAE,MAAM,CAAE,CAAC;aAC1C;SACJ;KACJ;IACD,KAAK;QACD,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,CAAC,sBAAsB,EAAE,CAAC;KACjC;CACJ,CAAC,AAEF;;;;"}