{"version":3,"file":null,"sources":["../../../components/cc-component-configurator/src/cc-component-configurator.ts","../../../components/cc-products-grid-configurator/src/cc-products-grid-configurator.ts","../src/m2c-products-grid-configurator.ts"],"sourcesContent":["/**\n * Base configurator component.\n * This component is responsible for providing base functionality for other configurators.\n * @type {vuejs.ComponentOption} Vue component object.\n */\nconst ccComponentConfigurator: vuejs.ComponentOption = {\n    props: {\n        /**\n         * Class property support to enable BEM mixes.\n         */\n        class: {\n            type: [ String, Object, Array ],\n            default: '',\n        },\n        /**\n         * Property containing callback triggered when user saves component.\n         * For default, we are providing a dummy function so we can skip the type check.\n         */\n        save: {\n            type: Function,\n            default: (): Function => (): undefined => undefined,\n        },\n        /**\n         * Property containing callback triggered when configuration is changed.\n         * For default, we are providing a dummy function so we can skip the type check.\n         */\n        change: {\n            type: Function,\n            default: (): Function => (): undefined => undefined,\n        },\n        /**\n         *\n         */\n        configuration: {\n            type: String,\n            default(): any {},\n        },\n    },\n    methods: {\n        onChange( event?: Event ): void {\n            // Serialize reactive data.\n            const data: any = JSON.parse( JSON.stringify( this.configuration ) );\n            // Trigger event and callback.\n            this.$dispatch( 'cc-component-configurator__changed', data );\n            this.change( data );\n        },\n        onSave( event?: Event ): void {\n            // Serialize reactive data.\n            const data: any = JSON.parse( JSON.stringify( this.configuration ) );\n            // Trigger event and callback.\n            this.$dispatch( 'cc-component-configurator__saved', data );\n            this.save( data );\n        },\n    },\n    events: {\n        /**\n         * Listen on save event from Content Configurator component.\n         */\n        'cc-component-configurator__save'(): void {\n            if ( this._events['cc-component-configurator__save'].length === 1 ) {\n                this.onSave();\n            }\n        },\n    },\n};\n\nexport { ccComponentConfigurator };\nexport default ccComponentConfigurator;\n","import ccComponentConfigurator from '../../cc-component-configurator/src/cc-component-configurator';\n\nimport $ from 'jquery';\nimport $t from 'mage/translate';\n\n/**\n * Product grid configurator component.\n * This component is responsible for displaying products grid  configuration form\n * @type {vuejs.ComponentOption} Vue component object.\n */\nconst ccProductsGridConfigurator: vuejs.ComponentOption = {\n    mixins: [\n        ccComponentConfigurator,\n    ],\n    template: `<form class=\"cc-products-grid-configurator {{ classes }} | {{ mix }}\" {{ attributes }} @submit.prevent=\"onSave\">\n        <div class=\"cc-products-grid-configurator__columns\">\n        <div class=\"cc-products-grid-configurator__column-left\">\n            <div class=\"cs-input cs-input--type-inline\">\n                <label for=\"cfg-pg-category\" class=\"cs-input__label\">Select Category:</label>\n                <input type=\"text\" name=\"cfg-pg-category-select\" class=\"cs-input__input\" id=\"cfg-pg-category\" v-model=\"configuration.category_id\" @change=\"onChange\">\n            </div>\n            <div class=\"cs-input cs-input--type-inline\">\n                <label for=\"cfg-pg-order-by\" class=\"cs-input__label\">Order by:</label>\n                <select name=\"cfg-pg-order-by\" class=\"cs-input__select\" id=\"cfg-pg-order-by\" v-model=\"configuration.order_by\" @change=\"onChange\">\n                    <option value=\"creation_date-DESC\">Creation date: newest</option>\n                    <option value=\"creation_date-ASC\">Creation date: oldest</option>\n                    <option value=\"price-DESC\">Price: cheapest</option>\n                    <option value=\"price-ASC\">Price: most expensive</option>\n                </select>\n                <select name=\"cfg-pg-order-type\" class=\"cs-input__select\" v-model=\"configuration.order_type\" @change=\"onChange\">\n                    <option value=\"ASC\">ASC</option>\n                    <option value=\"DESC\">DESC</option>\n                </select>\n            </div>\n            <div class=\"cs-input cs-input--type-inline\">\n                <label for=\"cfg-pg-rows_desktop\" class=\"cs-input__label\">Rows desktop:</label>\n                <select name=\"cfg-pg-rows_desktop\" class=\"cs-input__select\" id=\"cfg-pg-rows_desktop\" v-model=\"configuration.rows_desktop\" @change=\"onChange\" number>\n                    <option value=\"2\">2</option>\n                    <option value=\"3\">3</option>\n                    <option value=\"4\">4</option>\n                </select>\n            </div>\n            <div class=\"cs-input cs-input--type-inline\">\n                <label for=\"cfg-pg-rows_tablet\" class=\"cs-input__label\">Rows tablet:</label>\n                <select name=\"cfg-pg-rows_tablet\" class=\"cs-input__select\" id=\"cfg-pg-rows_tablet\" v-model=\"configuration.rows_tablet\" @change=\"onChange\" number>\n                    <option value=\"2\">2</option>\n                    <option value=\"3\">3</option>\n                    <option value=\"4\">4</option>\n                </select>\n            </div>\n            <div class=\"cs-input cs-input--type-inline\">\n                <label for=\"cfg-pg-rows_mobile\" class=\"cs-input__label\">Rows mobile:</label>\n                <select name=\"cfg-pg-rows_mobile\" class=\"cs-input__select\" id=\"cfg-pg-rows_mobile\" v-model=\"configuration.rows_mobile\" @change=\"onChange\" number>\n                    <option value=\"2\">2</option>\n                    <option value=\"3\">3</option>\n                    <option value=\"4\">4</option>\n                </select>\n            </div>\n        </div>\n        <div class=\"cc-products-grid-configurator__column-right\">\n            <div class=\"cs-input cs-input--type-inline\">\n                <label for=\"cfg-pg-hero\" class=\"cs-input__label\">Hero image:</label>\n                <select name=\"cfg-pg-hero\" class=\"cs-input__select\" id=\"cfg-pg-hero\" v-model=\"configuration.hero\" @change=\"onChange\">\n                    <option value=\"\" selected=\"selected\">No hero image</option>\n                    <option value=\"1\">Left</option>\n                    <option value=\"2\">Right</option>\n                </select>\n            </div>\n\n            <div class=\"cs-input\" v-if=\"configuration.hero\">\n\n                <div class=\"cs-input cs-input--type-inline\">\n                    <label for=\"cfg-pg-hero_image\" class=\"cs-input__label\">Upload image:</label>\n                    <a href=\"#\" class=\"\" href=\"#\">Upload image</a>\n                    <input type=\"hidden\" name=\"cfg-pg-hero_image\" class=\"cs-input__input\" id=\"cfg-pg-hero_image\" v-model=\"configuration.hero_image\" @change=\"onChange\">\n                </div>\n                <div class=\"cs-input cs-input--type-inline\">\n                    <label for=\"cfg-pg-hero_headline\" class=\"cs-input__label\">Headline:</label>\n                    <input type=\"text\" name=\"cfg-pg-hero_headline\" class=\"cs-input__input\" id=\"cfg-pg-hero_headline\" v-model=\"configuration.hero_headline\" @change=\"onChange\">\n                </div>\n                <div class=\"cs-input cs-input--type-inline\">\n                    <label for=\"cfg-pg-hero_subheadline\" class=\"cs-input__label\">Subheadline:</label>\n                    <input type=\"text\" name=\"cfg-pg-hero_subheadline\" class=\"cs-input__input\" id=\"cfg-pg-hero_subheadline\" v-model=\"configuration.hero_subheadline\" @change=\"onChange\">\n                </div>\n                <div class=\"cs-input cs-input--type-inline\">\n                    <label for=\"cfg-pg-hero_url\" class=\"cs-input__label\">Url:</label>\n                    <input type=\"text\" name=\"cfg-pg-hero_url\" class=\"cs-input__input\" id=\"cfg-pg-hero_url\" v-model=\"configuration.hero_url\" @change=\"onChange\">\n                </div>\n                <div class=\"cs-input cs-input--type-inline\">\n                    <label for=\"cfg-pg-hero_button_label\" class=\"cs-input__label\">CTA button label:</label>\n                    <input type=\"text\" name=\"cfg-pg-hero_button_label\" class=\"cs-input__input\" id=\"cfg-pg-hero_button_label\" v-model=\"configuration.button_label\" @change=\"onChange\">\n                </div>\n\n            </div>\n        </div>\n        </div>\n\n        <button type=\"submit\">Save</button>\n    </form>`,\n    props: {\n        configuration: {\n            type: Object,\n            default(): Object {\n                return {\n                    category_id: '',\n                    order_by: 'creation_date-DESC',\n                    order_type: 'DESC',\n                    rows_desktop: 2,\n                    rows_tablet: 2,\n                    rows_mobile: 2,\n                    hero_image: '',\n                    hero_headline: '',\n                    hero_subheadline: '',\n                    hero_url: '',\n                    hero_button_label: '',\n                };\n            },\n        },\n    }\n}\n\nexport default ccProductsGridConfigurator;\n","import $ from 'jquery';\nimport $t from 'mage/translate';\n\nimport ccProductsGridConfigurator from '../../../components/cc-products-grid-configurator/src/cc-products-grid-configurator';\n\n/**\n * Product grid configurator component.\n * This component is responsible for displaying products grid  configuration form\n * @type {vuejs.ComponentOption} Vue component object.\n */\nconst m2cProductsGridConfigurator: vuejs.ComponentOption = {\n    mixins: [\n        ccProductsGridConfigurator,\n    ],\n    template: `<form class=\"m2c-products-grid-configurator {{ classes }} | {{ mix }}\" {{ attributes }} @submit.prevent=\"onSave\">\n        <div class=\"m2c-products-grid-configurator__columns\">\n            <div class=\"m2c-products-grid-configurator__column-left\">\n\n                <div class=\"m2-input m2-input--type-inline\">\n                    <label for=\"cfg-pg-category\" class=\"m2-input__label\">${$t( 'Category ID' )}:</label>\n                    <input type=\"text\" name=\"cfg-pg-category-select\" class=\"m2-input__input | m2c-products-grid-configurator__form-input\" id=\"cfg-pg-category\" v-model=\"configuration.category_id\" @change=\"onChange\">\n                </div>\n                <div class=\"m2-input m2-input--type-inline\">\n                    <label for=\"cfg-pg-order-by\" class=\"m2-input__label\">${$t( 'Order by:' )}</label>\n                    <select name=\"cfg-pg-order-by\" class=\"m2-input__select\" id=\"cfg-pg-order-by\" v-model=\"configuration.order_by\" @change=\"onChange\">\n                        <option value=\"creation_date-DESC\">${$t( 'Creation date: newest' )}</option>\n                        <option value=\"creation_date-ASC\">${$t( 'Creation date: oldest' )}</option>\n                        <option value=\"price-DESC\">${$t( 'Price: cheapest' )}</option>\n                        <option value=\"price-ASC\">${$t( 'Price: most expensive' )}</option>\n                    </select>\n                </div>\n                <div class=\"m2-input m2-input--type-inline\">\n                    <label for=\"cfg-pg-rows_desktop\" class=\"m2-input__label\">${$t( 'Rows desktop' )}:</label>\n                    <select name=\"cfg-pg-rows_desktop\" class=\"m2-input__select\" id=\"cfg-pg-rows_desktop\" v-model=\"configuration.rows_desktop\" @change=\"onChange\" number>\n                        <option value=\"2\">2</option>\n                        <option value=\"3\">3</option>\n                        <option value=\"4\">4</option>\n                    </select>\n                </div>\n                <div class=\"m2-input m2-input--type-inline\">\n                    <label for=\"cfg-pg-rows_tablet\" class=\"m2-input__label\">${$t( 'Rows tablet' )}:</label>\n                    <select name=\"cfg-pg-rows_tablet\" class=\"m2-input__select\" id=\"cfg-pg-rows_tablet\" v-model=\"configuration.rows_tablet\" @change=\"onChange\" number>\n                        <option value=\"2\">2</option>\n                        <option value=\"3\">3</option>\n                        <option value=\"4\">4</option>\n                    </select>\n                </div>\n                <div class=\"m2-input m2-input--type-inline\">\n                    <label for=\"cfg-pg-rows_mobile\" class=\"m2-input__label\">${$t( 'Rows mobile' )}:</label>\n                    <select name=\"cfg-pg-rows_mobile\" class=\"m2-input__select\" id=\"cfg-pg-rows_mobile\" v-model=\"configuration.rows_mobile\" @change=\"onChange\" number>\n                        <option value=\"2\">2</option>\n                        <option value=\"3\">3</option>\n                        <option value=\"4\">4</option>\n                    </select>\n                </div>\n\n                <div class=\"m2-input m2-input--type-inline\">\n                    <label for=\"cfg-pg-hero\" class=\"m2-input__label\">${$t( 'Hero image' )}:</label>\n                    <select name=\"cfg-pg-hero\" class=\"m2-input__select\" id=\"cfg-pg-hero\" v-model=\"configuration.hero\" @change=\"onChange\">\n                        <option value=\"\" selected=\"selected\">${$t( 'No hero image' )}</option>\n                        <option value=\"1\">${$t( 'Left' )}</option>\n                        <option value=\"2\">${$t( 'Right' )}</option>\n                    </select>\n                </div>\n\n                <div class=\"m2-input\" v-if=\"configuration.hero\">\n                    <div class=\"m2-input m2-input--type-inline\">\n                        <label for=\"cfg-pg-hero_headline\" class=\"m2-input__label\">${$t( 'Headline' )}:</label>\n                        <input type=\"text\" name=\"cfg-pg-hero_headline\" class=\"m2-input__input | m2c-products-grid-configurator__form-input\" id=\"cfg-pg-hero_headline\" v-model=\"configuration.hero_headline\" @change=\"onChange\">\n                    </div>\n                    <div class=\"m2-input m2-input--type-inline\">\n                        <label for=\"cfg-pg-hero_subheadline\" class=\"m2-input__label\">${$t( 'Subheadline' )}:</label>\n                        <input type=\"text\" name=\"cfg-pg-hero_subheadline\" class=\"m2-input__input | m2c-products-grid-configurator__form-input\" id=\"cfg-pg-hero_subheadline\" v-model=\"configuration.hero_subheadline\" @change=\"onChange\">\n                    </div>\n                    <div class=\"m2-input m2-input--type-addon m2-input--type-inline\">\n                        <label for=\"cfg-pg-hero_url\" class=\"m2-input__label\">${$t( 'Url' )}:</label>\n                        <input type=\"text\" name=\"cfg-pg-hero_url\" class=\"m2-input__input m2-input--type-readonly | m2c-products-grid-configurator__form-input | m2c-products-grid__hero-url\" id=\"cfg-pg-hero_url\" readonly v-model=\"configuration.hero_url\">\n                        <span class=\"m2-input__addon | m2c-products-grid-configurator__widget-chooser-trigger\" @click=\"openCtaTargetModal()\">\n                            <svg class=\"m2-input__addon-icon\">\n                                <use v-bind=\"{ 'xlink:href': assetsSrc + 'images/sprites.svg#icon_link' }\"></use>\n                            </svg>\n                        </span>\n                    </div>\n                    <div class=\"m2-input m2-input--type-inline\">\n                        <label for=\"cfg-pg-hero_button_label\" class=\"m2-input__label\">${$t( 'Button label' )}:</label>\n                        <input type=\"text\" name=\"cfg-pg-hero_button_label\" class=\"m2-input__input | m2c-products-grid-configurator__form-input\" id=\"cfg-pg-hero_button_label\" v-model=\"configuration.button_label\" @change=\"onChange\">\n                    </div>\n                </div>\n\n            </div>\n            <div v-bind:class=\"[ 'm2c-products-grid-configurator__column-right', configuration.hero_image ? 'm2c-products-grid-configurator__column-right--look-image-uploaded' : '' ]\" v-show=\"configuration.hero\">\n                <div class=\"m2c-products-grid-configurator__toolbar\">\n                    <template v-if=\"configuration.hero_image\">\n                        <a href=\"#\" @click=\"getImageUploader()\">${$t( 'Change image' )}</a>\n                    </template>\n                    <template v-else>\n                        <a href=\"#\" @click=\"getImageUploader()\">${$t( 'Upload image' )}</a>\n                    </template>\n                    <span class=\"m2c-image-teaser-configurator__size-info\">{{ configuration.size_info }}</span>\n                </div>\n                <div class=\"m2c-products-grid-configurator__image-wrapper\">\n                    <img :src=\"configuration.hero_image\" class=\"m2c-image-teaser-configurator__item-image\" v-show=\"configuration.hero_image\">\n                    <input type=\"hidden\" v-model=\"configuration.hero_image\">\n                    <input type=\"hidden\" class=\"m2c-products-grid-configurator__image-url\" id=\"products-grid-img\">\n                </div>\n            </div>\n        </div>\n    </form>`,\n    props: {\n        configuration: {\n            type: Object,\n            default(): Object {\n                return {\n                    category_id: '',\n                    order_by: 'creation_date-DESC',\n                    rows_desktop: 2,\n                    rows_tablet: 2,\n                    rows_mobile: 2,\n                    hero_image: '',\n                    hero_headline: '',\n                    hero_subheadline: '',\n                    hero_url: '',\n                    hero_button_label: '',\n                    decoded_image: '',\n                    size_info: '',\n                };\n            },\n        },\n        /* get assets for displaying component images */\n        assetsSrc: {\n            type: String,\n            default: '',\n        },\n        /* Obtain base-url for the image uploader */\n        uploaderBaseUrl: {\n            type: String,\n            default: '',\n        },\n        /* Obtain image endpoint to place permanent url for uploaded images */\n        imageEndpoint: {\n            type: String,\n            default: '',\n        },\n    },\n    methods: {\n        /* Opens M2's built-in image manager modal.\n         * Manages all images: image upload from hdd, select image that was already uploaded to server.\n         * @param index {number} - index of image of image teaser.\n         */\n        getImageUploader( index: number ): void {\n            MediabrowserUtility.openDialog( `${this.uploaderBaseUrl}target_element_id/products-grid-img/`,\n                'auto',\n                'auto',\n                $t( 'Insert File...' ),\n                {\n                    closed: true,\n                },\n            );\n        },\n\n        /* Listener for image uploader\n         * Since Magento does not provide any callback after image has been chosen\n         * we have to watch for target where decoded url is placed\n         */\n        imageUploadListener(): void {\n            const component: any = this;\n            let isAlreadyCalled: boolean = false;\n\n            // jQuery has to be used, for some reason native addEventListener doesn't catch change of input's value\n            $( document ).on( 'change', '.m2c-products-grid-configurator__image-url', ( event: Event ): void => {\n                if ( !isAlreadyCalled ) {\n                    isAlreadyCalled = true;\n                    component.onImageUploaded( event.target );\n                    setTimeout( (): void => {\n                        isAlreadyCalled = false;\n                    }, 100 );\n                }\n            } );\n        },\n\n        /* Action after image was uploaded\n         * URL is encoded, so strip it and decode Base64 to get {{ media url=\"...\"}} format\n         * which will go to the items.image and will be used to display image on front end\n         * @param input { object } - input with raw image path which is used in admin panel\n         */\n        onImageUploaded( input: any ): void {\n            const _this: any = this;\n            // const itemIndex: any = input.id.substr( input.id.length - 1 );\n            const encodedImage: any = input.value.match( '___directive\\/([a-zA-Z0-9]*)' )[ 1 ];\n            const imgEndpoint: string = this.imageEndpoint.replace( '{/encoded_image}', encodedImage );\n\n            this.configuration.decoded_image = Base64 ? Base64.decode( encodedImage ) : window.atob( encodedImage );\n\n            const img: any = new Image();\n            img.onload = function(): void {\n                const ar: string = _this.getAspectRatio( img.naturalWidth, img.naturalHeight );\n                _this.configuration.hero_image = img.getAttribute( 'src' );\n                _this.configuration.size_info = `${img.naturalWidth}x${img.naturalHeight}px (${ar})`;\n                _this.onChange();\n            };\n            img.src = imgEndpoint;\n        },\n\n        /* Returns greatest common divisor for 2 numbers\n         * @param a {number}\n         * @param b {number}\n         * @return {number} - greatest common divisor\n         */\n        getGreatestCommonDivisor( a: number, b: number ): number {\n            if ( !b ) {\n                return a;\n            }\n\n            return this.getGreatestCommonDivisor( b, a % b );\n        },\n\n        /* Returns Aspect ratio for 2 numbers based on GDC algoritm (greatest common divisor)\n         * @param a {number}\n         * @param b {number}\n         * @return {number} - greatest common divisor\n         */\n        getAspectRatio( a: number, b: number ): string {\n            const c: number = this.getGreatestCommonDivisor( a, b );\n\n            return `${( a / c )}:${( b / c )}`;\n        },\n\n        /*\n         * Opens modal with M2 built-in widget chooser\n         */\n        openCtaTargetModal(): void {\n            const component: any = this;\n\n            widgetTools.openDialog( `${window.location.origin}/admin/admin/widget/index/widget_target_id/cfg-pg-hero_url` );\n\n            /* clean current value since widget chooser doesn't do that to allow multiple widgets\n             * we don't want that since this should be url for CTA */\n            component.configuration.hero_url = '';\n\n            this.wWidgetListener();\n        },\n\n        /* Sets listener for widget chooser\n         * It triggers component.onChange to update component's configuration\n         * after value of item.ctaTarget is changed\n         */\n        widgetSetListener(): void {\n            const component: any = this;\n\n            $( '.m2c-products-grid__hero-url' ).on( 'change', (): void => {\n                component.onChange();\n            } );\n        },\n\n        /*\n         * Check if widget chooser is loaded. If not, wait for it\n         */\n        wWidgetListener(): void {\n            if ( typeof wWidget !== 'undefined' && widgetTools.dialogWindow[ 0 ].innerHTML !== '' ) {\n                this.disableNotLinksOptions();\n            } else {\n                setTimeout( this.wWidgetListener, 300 );\n            }\n        },\n\n        /*\n         * Hide all options in widget chooser that are not links\n         */\n        disableNotLinksOptions(): void {\n            if ( wWidget.widgetEl && wWidget.widgetEl.options ) {\n                $( wWidget.widgetEl.options ).each( function( i: boolean, el: any ): void {\n                    if ( el.value.split( '\\\\' ).pop() !== 'Link' && i !== 0 ) {\n                        $( el ).hide();\n                    }\n                } );\n            }\n        },\n    },\n    ready(): void {\n        this.imageUploadListener();\n        this.widgetSetListener();\n    }\n}\n\nexport default m2cProductsGridConfigurator;\n"],"names":[],"mappings":"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"}